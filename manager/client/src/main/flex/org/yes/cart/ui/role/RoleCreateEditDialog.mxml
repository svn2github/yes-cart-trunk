<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml"
				title="Create user"  showCloseButton="true" close="PopUpManager.removePopUp(this)" >


    <mx:Form>
        <mx:FormItem label="@Resource(bundle='RoleCreateEditDialog',key='role')">
            <mx:TextInput width="160" id="role" enabled="{newRoleFlag}"/>
        </mx:FormItem>
        <mx:FormItem label="@Resource(bundle='RoleCreateEditDialog',key='description')">
            <mx:TextArea width="160" id="description"/>
        </mx:FormItem>
    </mx:Form>
    <mx:ControlBar horizontalAlign="right" width="100%">
        <mx:Button id="saveBtn" label="@Resource(bundle='ShopManagerApplication',key='save')"/>
        <mx:Button id="closeBtn" label="@Resource(bundle='ShopManagerApplication',key='close')"
                   click="PopUpManager.removePopUp(this)"/>
    </mx:ControlBar>




    <mx:Boolean id="newRoleFlag">false</mx:Boolean>


	<mx:Script>
		<![CDATA[

        import mx.managers.PopUpManager;

        private function init(): void {
            if (newRoleFlag) {
                this.title = resourceManager.getString('RoleCreateEditDialog', 'newRole');
                saveBtn.label = resourceManager.getString('RoleCreateEditDialog', 'create');
            } else {
                this.title = resourceManager.getString('RoleCreateEditDialog', 'editRole');
                saveBtn.label = resourceManager.getString('RoleCreateEditDialog', 'update');
            }
        }

        public function editRole(role:String, description:String):void {
            newRoleFlag = false;
            this.role.text = role;
            this.description.text = description;
            init();
        }

        public function createNewRole():void {
            newRoleFlag = true;
            init();
        }
		]]>
	</mx:Script>

</mx:TitleWindow>