<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"
                xmlns:controls="controls.*"
                usePreloader="true"
                layout="absolute"
                minWidth="800"
                minHeight="600"
                creationComplete="init();"
                creationCompleteEffect="Zoom"
                xmlns:component="com.*"


        >

    <mx:Script>
		<![CDATA[
        import com.hexagonstar.util.debug.Debug;

        import mx.collections.ArrayCollection;

        import mx.controls.Alert;
        import mx.controls.Text;
        import mx.events.IndexChangedEvent;
        import mx.messaging.channels.AMFChannel;
        import mx.rpc.AsyncResponder;
        import mx.rpc.AsyncToken;
        import mx.rpc.events.FaultEvent;
        import mx.rpc.events.ResultEvent;

        import org.yes.cart.impl.ShopDTOImpl;

        import org.yes.cart.shopmanager.ShopManagerGlobal;
        import org.yes.cart.ui.attributes.AttributesManagementPanel;
        import org.yes.cart.ui.brand.BrandManagementPanel;
        import org.yes.cart.ui.bulkimport.BulkImportPanel;
        import org.yes.cart.ui.carrier.CarrierManagementPanel;
        import org.yes.cart.ui.category.CategoryManagementPanel;
        import org.yes.cart.ui.customer.CustomerManagementPanel;
        import org.yes.cart.ui.location.LocationManagementPanel;
        import org.yes.cart.ui.order.CustomerOrderPanel;
        import org.yes.cart.ui.product.ProductManagementPanel;
        import org.yes.cart.ui.producttype.ProductTypeManagementPanel;
        import org.yes.cart.ui.reindex.ReindexPanel;
        import org.yes.cart.ui.role.RoleManagementPanel;
        import org.yes.cart.ui.store.StoresManagementPanel;
        import org.yes.cart.ui.tools.QueryPanel;
        import org.yes.cart.ui.user.UserManagementPanel;
        import org.yes.cart.ui.warehouse.WarehouseManagementPanel;

        private var shopManagerGlobal:ShopManagerGlobal;

        private var shops:Object;

        public function init():void {
            currentState = "loginState";
            var url:String = "http://{server.name}:{server.port}/yes-manager/spring/amf";
            // var url:String = "http://localhost:8080/yes-manager/spring/amf";

            ShopManagerGlobal.getInstance().url = url;

            channelSet.removeChannel(myamf);
            myamf = new AMFChannel("myamf", url);
            channelSet.addChannel(myamf);
        }


        private function cheatLogin():void {
            username.text = "admin@yes-cart.com";
            password.text = "1234567";
            login();
        }

        private function login():void {

            currentState = "inProgressState";
            ShopManagerGlobal.getInstance().username = username.text;

            ShopManagerGlobal.getInstance().password = password.text;

            var token:AsyncToken = channelSet.login(
                    username.text,
                    password.text);
            token.addResponder(new AsyncResponder(loginResult, loginFault));
        }

        private function loginResult(event:ResultEvent, token:AsyncToken):void {
            ShopManagerGlobal.getInstance().amfChannel = myamf;
            ShopManagerGlobal.getInstance().channelSet = channelSet;
            currentState = "userAuthenticated";
            /*This call pass  the password to flex session, because after new spring security impossible to
             * get user credentials using FlexContext.getUserPrincipal()).getCredentials() on java side.*/
            remoteFlexSupportService.setSessionInfo("pwd", password.text);

        }

        private function loginFault(event:FaultEvent, token:AsyncToken):void {
            invalidLogin = true;
            currentState = "loginState";
            var msg:String = "ERROR Can not perform logon to url ["
                    + ShopManagerGlobal.getInstance().url
                    + "] with name ["
                    + ShopManagerGlobal.getInstance().username
                    + "] and  password [* * * * * * ]. Fault event is: "
                    + event.fault.message;
            Debug.trace(msg);
            Alert.show(msg, "Login failed");

        }

        /**
         * product reindexing.
         * @param event mouse event
         */
        protected function reindex_clickHandler(event:MouseEvent):void {
            setFontWeight(reindexBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new ReindexPanel());
        }

        /**
         * product reindexing.
         * @param event mouse event
         */
        protected function help_clickHandler(event:MouseEvent):void {
            Alert.show(
                    resourceManager.getString('ShopManagerApplication', 'revLabel') + resourceManager.getString('ShopManagerApplication', 'rev') + "\n" +
                            resourceManager.getString('ShopManagerApplication', 'revDateLabel') + resourceManager.getString('ShopManagerApplication', 'revDate') + "\n" +
                            resourceManager.getString('ShopManagerApplication', 'buildDateLabel') + resourceManager.getString('ShopManagerApplication', 'buildDate') + "\n",
                    resourceManager.getString('ShopManagerApplication', 'info')
            );
        }


        /**
         * product reindexing.
         * @param event mouse event
         */
        protected function import_clickHandler(event:MouseEvent):void {
            setFontWeight(importBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new BulkImportPanel());
        }

        /**
         * Manage locations.
         * @param event mouse event
         */
        protected function location_clickHandler(event:MouseEvent):void {
            setFontWeight(locationsBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new LocationManagementPanel());
        }

        /**
         * Manage carriers, carrier SLA & etc.
         * @param event mouse event
         */
        protected function carrier_clickHandler(event:MouseEvent):void {
            setFontWeight(carriersBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new CarrierManagementPanel());
        }

        /**
         * Open attibute managment panel
         * @param event mouse event
         */
        protected function attributes_clickHandler(event:MouseEvent):void {
            setFontWeight(attributesBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new AttributesManagementPanel());
        }

        /**
         * Users managment.
         * @param event mouse event

         */
        protected function userManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(userBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new UserManagementPanel());
        }

        /**
         * Roles managment.
         * @param event

         */
        protected function roleManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(rolesBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new RoleManagementPanel());
        }

        /**
         * Roles management.
         * @param event
         */
        protected function storesManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(event.target as LinkButton);
            mainPanel.removeAllChildren();
            var panel:StoresManagementPanel = new StoresManagementPanel();
            var shop:ShopDTOImpl = this.shops[(event.target as LinkButton).id];
            panel.shopDTOImpl = shop;
            panel.title = shop.name;
            mainPanel.addChild(panel);
        }

        /**
         * Roles management.
         * @param event
         */
        protected function storesManagement_clickNewHandler(event:MouseEvent):void {
            setFontWeight(event.target as LinkButton);
            mainPanel.removeAllChildren();
            var newShop:ShopDTOImpl = new ShopDTOImpl();
            var panel:StoresManagementPanel = new StoresManagementPanel();
            panel.shopDTOImpl =  newShop;
            mainPanel.addChild(panel);
        }

        /**
         * Roles management.
         * @param event
         */
        protected function warehouseManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(warehouseBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new WarehouseManagementPanel());
        }

        /**
         * Manage categories
         * @param event mouse event
         * @return nothing
         */
        private function categoryManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(categoryBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new CategoryManagementPanel());
        }

        /**
         * Manage brands
         * @param event mouse event
         * @return nothing
         */
        private function brandManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(brandBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new BrandManagementPanel());
        }


        private function queryData_clickHandler(event:MouseEvent):void {
            setFontWeight(sqlBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new QueryPanel());

        }

        /**
         * Manage product types and attributes.
         * @param event mouse event
         * @return nothing
         */
        private function productTypesManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(productTypesBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new ProductTypeManagementPanel());
        }

        /**
         * Manage products and skus
         * @param event mouse event
         * @return nothing
         */
        private function productManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(productsBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new ProductManagementPanel());
        }

        /**
         * Manage products and skus
         * @param event mouse event
         * @return nothing
         */
        private function customerManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(customersBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new CustomerManagementPanel());
        }

        /**
         * Manage products and skus
         * @param event mouse event
         * @return nothing
         */
        private function orderManagement_clickHandler(event:MouseEvent):void {
            setFontWeight(ordersBtn);
            mainPanel.removeAllChildren();
            mainPanel.addChild(new CustomerOrderPanel());
        }


        private function userNameOrPasswordChanged(event:Event):void {
            loginButtonEnabled = (username.text != null && username.text.length > 5)
                    && (password.text != null && password.text.length > 6);
        }


        private function setFontWeight(src:LinkButton):void {

            for each (var child:Object in  mainAccourdion.getChildren()) {
                if (child is Canvas) {
                    var cnv:Canvas = child as Canvas;
                    Debug.trace("len 2 =" + cnv.getChildren().length);
                    for each(var vbox:Object in cnv.getChildren()) {
                        if (vbox is VBox) {
                            for each(var linkBtn:Object in (vbox as VBox).getChildren()) {
                                if (linkBtn is LinkButton) {
                                    (linkBtn as LinkButton).setStyle("fontWeight", "normal");
                                    (linkBtn as LinkButton).setStyle("fontSize", "12");
                                }
                            }
                        }
                    }
                }
            }

            src.setStyle("fontSize", "14");
            src.setStyle("fontWeight", "bold");

        }

        private function fulfillment_clickHandler(event:MouseEvent):void {
            setFontWeight(fulfillmentBtn);
            mainPanel.removeAllChildren();
            var label:Text = new Text();
            label.text = "TODO: this is not yet implemented";
            mainPanel.addChild(label);
        }

        private function prodQty_clickHandler(event:MouseEvent):void {
            setFontWeight(prodQtyBtn);
            mainPanel.removeAllChildren();
            var label:Text = new Text();
            label.text = "TODO: this is not yet implemented";
            mainPanel.addChild(label);
        }

        private function payments_clickHandler(event:MouseEvent):void {
            setFontWeight(paymentsBtn);
            mainPanel.removeAllChildren();
            var label:Text = new Text();
            label.text = "TODO: this is not yet implemented";
            mainPanel.addChild(label);
        }

        private function onFaultHandler(event:FaultEvent):void {
            ShopManagerGlobal.instance.defaultFaultHandler(event);
        }

        private function onGetAllShopsResult(event:ResultEvent):void {

            this.shops = {};
            for each (var shop:ShopDTOImpl in event.result) {
                this.shops['shop_' + shop.shopId] = shop;
            }

            this.onInitStoresButtons();

        }

        private function onInitStoresButtons():void {
            var tempArray:ArrayCollection = new ArrayCollection(storesButtons.getChildren());
            for each (var oldShopButton:Object in tempArray) {
                if (oldShopButton is LinkButton) {
                    var oldButton:LinkButton = oldShopButton as LinkButton;
                    if (oldButton.id == 'storesBtn') {
                        continue; // do not remove the create button
                    }
                    oldButton.removeEventListener(MouseEvent.CLICK, storesManagement_clickHandler);
                    storesButtons.removeChild(oldButton);
                }
            }

            for (var shopId:String in this.shops) {
                var shop:ShopDTOImpl = this.shops[shopId];
                var shopButton:LinkButton = new LinkButton();
                shopButton.label = shop.name + ' (' + shop.code + ')';
                shopButton.id = shopId;
                shopButton.addEventListener(MouseEvent.CLICK, storesManagement_clickHandler);
                shopButton.percentWidth = 100;
                storesButtons.addChild(shopButton);
            }

        }

        private function onMainAccordionChange(event:IndexChangedEvent):void {
            const storeMenu:int = 4;
            if (event.newIndex == storeMenu) {
                remoteShopService.getAll(); // reload buttons
            }
        }

        ]]>
	</mx:Script>

    <mx:Boolean id="invalidLogin">false</mx:Boolean>
    <mx:Boolean id="loginButtonEnabled">false</mx:Boolean>

    <mx:AMFChannel xmlns:mx="http://www.adobe.com/2006/mxml"
                   id="myamf"/>

    <mx:ChannelSet id="channelSet" channels="{[myamf]}"/>

    <mx:RemoteObject showBusyCursor="true" id="remoteFlexSupportService"
                     destination="remoteFlexSupportService"
                     result="ShopManagerGlobal.instance.defaultResultHandler(event)"
                     fault="ShopManagerGlobal.instance.defaultFaultHandler(event)"
                     channelSet="{ShopManagerGlobal.instance.channelSet}"/>

    <mx:RemoteObject showBusyCursor="true" id="remoteShopService"
                     destination="remoteShopService"
                     channelSet="{ShopManagerGlobal.instance.channelSet}">

        <mx:method id="getAllShops" name="getAll"
                   result="onGetAllShopsResult(event)"
                   fault="onFaultHandler(event)"/>


    </mx:RemoteObject>


    <mx:states>
        <mx:State name="inProgressState">
            <mx:RemoveChild target="{loginPanel}"/>
            <mx:AddChild>
                <mx:target>
                    <mx:Box width="100%" height="100%" horizontalAlign="center" verticalAlign="middle" id="inProgress">
                        <controls:Spinner id="spinner" size="75" numTicks="20" tickWidth="5" speed="1000"
                                          fadeSpeed="800" tickColor="#0066FF"/>
                    </mx:Box>
                </mx:target>
            </mx:AddChild>
        </mx:State>
        <mx:State name="loginState">
            <mx:RemoveChild target="{mainFrame}"/>
            <mx:RemoveChild target="{inProgress}"/>
            <mx:AddChild>
                <mx:target>
                    <!-- Login Form -->
                    <mx:VBox horizontalAlign="center" verticalAlign="middle" height="100%" width="100%" id="loginPanel">
                        <mx:HBox horizontalAlign="center" verticalAlign="middle" height="100%" width="100%">
                            <mx:Panel title="@Resource(bundle='ShopManagerApplication',key='loginFormTitle')">
                                <mx:Label text="@Resource(bundle='ShopManagerApplication',key='loginFormInvalidUser')"
                                          includeInLayout="{invalidLogin}" visible="{invalidLogin}"/>
                                <mx:Form defaultButton="{loginButton}">
                                    <mx:FormItem width="100%"
                                                 label="@Resource(bundle='ShopManagerApplication',key='loginFormUsername')">
                                        <mx:TextInput id="username" change="userNameOrPasswordChanged(event)"/>
                                    </mx:FormItem>
                                    <mx:FormItem width="100%"
                                                 label="@Resource(bundle='ShopManagerApplication',key='loginFormPassword')">
                                        <mx:TextInput id="password" displayAsPassword="true"
                                                      change="userNameOrPasswordChanged(event)"/>
                                    </mx:FormItem>
                                </mx:Form>
                                <mx:ControlBar horizontalAlign="right">
                                    <mx:Button id="loginButton"
                                               label="@Resource(bundle='ShopManagerApplication',key='loginFormLogin')"
                                               enabled="{loginButtonEnabled}"
                                               click="login()"/>
                                    <mx:Button id="cheatLoginButton"
                                               label="Cheat"
                                               enabled="true"
                                               click="cheatLogin()"/>
                                </mx:ControlBar>
                            </mx:Panel>
                        </mx:HBox>
                    </mx:VBox>
                </mx:target>
            </mx:AddChild>
        </mx:State>
        <mx:State name="userAuthenticated">
            <mx:RemoveChild target="{inProgress}"/>
            <mx:AddChild>
                <mx:target>
                    <!-- The main frame -->
                    <mx:VBox id="mainFrame" paddingLeft="2" paddingRight="2" paddingTop="2" paddingBottom="2" height="100%" width="100%">
                        <mx:HDividedBox width="100%" height="100%">
                            <mx:Accordion id="mainAccourdion" width="230" height="100%" change="onMainAccordionChange(event)">
                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='customerService')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="ordersBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='orders')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='ordersHint')"
                                                       click="orderManagement_clickHandler(event);"
                                                />
                                        <mx:LinkButton width="100%" id="customersBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='customers')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='customersHint')"
                                                       click="customerManagement_clickHandler(event);"
                                                />
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="fulfillmentBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='fulfillment')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='fulfillmentHint')"
                                                       click="fulfillment_clickHandler(event)"
                                                />
                                    </mx:VBox>
                                </mx:Canvas>
                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='catalogManagement')"
                                           toolTip="@Resource(bundle='ShopManagerApplication',key='catalogManagement')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="productsBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='products')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='productsHint')"
                                                       click="productManagement_clickHandler(event)"
                                                />
                                        <mx:LinkButton width="100%" id="categoryBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='categories')"
                                                       click="categoryManagement_clickHandler(event)"
                                                />
                                        <mx:LinkButton width="100%" id="brandBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='brands')"
                                                       click="brandManagement_clickHandler(event)"
                                                />

                                    </mx:VBox>
                                </mx:Canvas>
                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='warehouse')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="warehouseBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='warehouses')"
                                                       click="warehouseManagement_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='warehousesHint')"
                                                />
                                        <mx:LinkButton width="100%" enabled="false" id="prodQtyBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='prodQty')"
                                                       click="prodQty_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='prodQtyHint')"
                                                />
                                    </mx:VBox>


                                </mx:Canvas>

                                <!--<mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='marketing')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" enabled="false" id="catalogPromo"
                                                       label="@Resource(bundle='ShopManagerApplication',key='catalogPromotion')"
                                                       click="setFontWeight(catalogPromo); Alert.show('TODO V2')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='catalogPromotionyHint')"
                                                />
                                        <mx:LinkButton width="100%" enabled="false" id="cartPromo"
                                                       label="@Resource(bundle='ShopManagerApplication',key='cartPromotion')"
                                                       click="setFontWeight(cartPromo); Alert.show('TODO V2')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='cartPromotionHint')"
                                                />
                                        <mx:LinkButton width="100%" enabled="false" id="dynamicAdvBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='targetedAdvertizement')"
                                                       click="setFontWeight(dynamicAdvBtn); Alert.show('TODO V2')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='targetedAdvertizementHint')"
                                                />
                                        <mx:LinkButton width="100%" enabled="false" id="dynamicMediaBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='advertisingMedia')"
                                                       click="setFontWeight(dynamicMediaBtn); Alert.show('TODO V2')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='advertisingMediaHint')"
                                                />
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" enabled="false" id="couponsBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='coupons')"
                                                       click="setFontWeight(couponsBtn); Alert.show('TODO V2')"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='couponsHint')"
                                                />
                                    </mx:VBox>
                                </mx:Canvas>-->


                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='payment')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="paymentsBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='payment')"
                                                       click="payments_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='paymentHint')"
                                                />
                                    </mx:VBox>
                                </mx:Canvas>
                                <!--<mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='reporting')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="repoSalesBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoSales')"
                                                       click="setFontWeight(repoSalesBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoTaxBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoTax')"
                                                       click="setFontWeight(repoTaxBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoAbandonedCartBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoAbandonedCart')"
                                                       click="setFontWeight(repoAbandonedCartBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoBestViewvedPRodBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoBestViewvedPRod')"
                                                       click="setFontWeight(repoBestViewvedPRodBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoBestPurchasedBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoBestPurchased')"
                                                       click="setFontWeight(repoBestPurchasedBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoLowStockBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoLowStock')"
                                                       click="setFontWeight(repoLowStockBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoSerachTermsBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoSerachTerms')"
                                                       click="setFontWeight(repoSerachTermsBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoProdReviewBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoProdReview')"
                                                       click="setFontWeight(repoProdReviewBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoCouponBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoCoupon')"
                                                       click="setFontWeight(repoCouponBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoSalesRefundedBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoSalesRefunded')"
                                                       click="setFontWeight(repoSalesRefundedBtn); Alert.show('TODO');"/>
                                        <mx:LinkButton width="100%" id="repoBestCustomerBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='repoBestCustomer')"
                                                       click="setFontWeight(repoBestCustomerBtn); Alert.show('TODO');"/>
                                    </mx:VBox>

                                </mx:Canvas>-->

                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='stores')" width="100%"
                                           height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%" id="storesButtons">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="storesBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='newStore')"
                                                       click="storesManagement_clickNewHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='storesHint')"
                                                />

                                    </mx:VBox>
                                </mx:Canvas>


                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='shipping')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">

                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="carriersBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='carrier')"
                                                       click="carrier_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='carrierHint')"
                                                />

                                        <mx:LinkButton width="100%" id="locationsBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='location')"
                                                       click="location_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='locationHint')"
                                                />
                                    </mx:VBox>


                                </mx:Canvas>

                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='employees')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:LinkButton width="100%" id="userBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='userManagement')"
                                                       click="userManagement_clickHandler(event)"/>
                                        <mx:LinkButton width="100%" id="rolesBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='roleManagement')"
                                                       click="roleManagement_clickHandler(event)"/>
                                    </mx:VBox>
                                </mx:Canvas>

                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='system')" width="100%"
                                           height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="productTypesBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='productTypes')"
                                                       click="productTypesManagement_clickHandler(event)"
                                                />
                                        <mx:LinkButton width="100%" id="attributesBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='attributes')"
                                                       click="attributes_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='attributesHint')"
                                                />
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%" id="importBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='import')"
                                                       click="import_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='importHint')"
                                                />
                                        <mx:LinkButton width="100%" id="reindexBtn"
                                                       label="@Resource(bundle='ShopManagerApplication',key='reindex')"
                                                       click="reindex_clickHandler(event)"
                                                       toolTip="@Resource(bundle='ShopManagerApplication',key='reindexHint')"
                                                />
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton id="sqlBtn" width="100%"
                                                       label="@Resource(bundle='ShopManagerApplication',key='query')"
                                                       click="queryData_clickHandler(event)"/>

                                    </mx:VBox>
                                </mx:Canvas>


                                <mx:Canvas label="@Resource(bundle='ShopManagerApplication',key='help')"
                                           width="100%" height="100%">
                                    <mx:VBox x="0" y="0" height="100%" width="100%">
                                        <mx:Spacer height="10"/>
                                        <mx:LinkButton width="100%"
                                                       label="@Resource(bundle='ShopManagerApplication',key='about')"
                                                       click="help_clickHandler(event)"
                                                />
                                    </mx:VBox>
                                </mx:Canvas>

                            </mx:Accordion>
                            <mx:Canvas id="mainPanel" width="100%" height="100%"/>
                        </mx:HDividedBox>
                    </mx:VBox>
                </mx:target>
            </mx:AddChild>
        </mx:State>
    </mx:states>

</mx:Application>
