<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <class name="org.yes.cart.domain.entity.Manager" table="TMANAGER" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Hold managers</comment>
        <id name="managerId" type="long">
            <column name="MANAGER_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ManagerEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long managerId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="MANAGER_ID", nullable=false)
    public long getManagerId() {
        return this.managerId;
    }

    @Transient public long getId() {
        return this.managerId;
    }

    public void setManagerId(long managerId) {
        this.managerId = managerId;
    }
                ]]>
            </meta>

            <property name="email" length="255" type="java.lang.String" column="EMAIL" unique="true" not-null="true"/>
            <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
            <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
            <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
            <property name="password" length="255" type="java.lang.String" column="PASSWORD" not-null="true"/>




            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
            <property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.Role" table="TROLE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Hold roles list</comment>
        <id name="roleId" type="long">
            <column name="ROLE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.RoleEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
             <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long roleId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="ROLE_ID", nullable=false)
    public long getRoleId() {
        return this.roleId;
    }

    @Transient public long getId() {
        return this.roleId;
    }


    public void setRoleId(long roleId) {
        this.roleId = roleId;
    }
                ]]>
            </meta>

            <property name="code" length="255" type="java.lang.String" column="CODE" unique="true" not-null="true"/>
            <property name="description" length="255" type="java.lang.String" column="DESCRIPTION"/>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
            <property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ManagerRole" table="TMANAGERROLE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Hold roles list</comment>
        <id name="managerRoleId" type="long">
            <column name="MANAGERROLE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ManagerRoleEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long managerRoleId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="MANAGERROLE_ID", nullable=false)
    public long getManagerRoleId() {
        return this.managerRoleId;
    }

    @Transient public long getId() {
        return this.managerRoleId;
    }


    public void setManagerRoleId(long managerRoleId) {
        this.managerRoleId = managerRoleId;
    }
                ]]>
            </meta>

            <property name="email" length="255" type="java.lang.String" column="EMAIL"  not-null="true"/>
            <property name="code" length="255" type="java.lang.String" column="CODE"  not-null="true"/>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
            <property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>
	    

    <!--
    Warnings:
    1. Do not use table comments more that 60 chars, because of MySql limitation
    2. Token UNCOMMENT filed & class descriptions will be removed comment , so /** this text became code */      
    -->

    <!-- ################################ Types, attributes ######################################### -->


    <class name="org.yes.cart.domain.entity.Etype" table="TETYPE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Types, that will be used in system.</comment>
        <id name="etypeId" type="long" column="ETYPE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.EtypeEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long etypeId;
    /*@GenericGenerator(name="generator",strategy="native",   parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})*/

    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ETYPE_ID", nullable=false)
    public long getEtypeId() {
        return this.etypeId;
    }
    @Transient public long getId() {
        return this.etypeId;
    }



    public void setEtypeId(long etypeId) {
        this.etypeId = etypeId;
    }
                ]]>
            </meta>
            <property name="javatype" type="string" not-null="true">
                <column name="JAVATYPE" length="256" not-null="true">
                    <comment>Shows the java type</comment>
                </column>
            </property>
            <property name="businesstype" type="string" not-null="false">
                <column name="BUSINESSTYPE" length="256" not-null="false">
                    <comment>Used mosty on UI. How to represent product, category, attibutes, etc</comment>
                </column>
            </property>
            <set name="attributes" inverse="false" lazy="false">
                <key>
                    <column name="ETYPE_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.Attribute"/>
            </set>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.AttributeGroup" table="TATTRIBUTEGROUP" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <meta attribute="interface">false</meta>
        <comment>Group attributes: prod,sku,cat,shop,customer,brand etc.</comment>
        <id name="attributegroupId" type="long">
            <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttributeGroupEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long attributegroupId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ATTRIBUTEGROUP_ID", nullable=false)
    public long getAttributegroupId() {
        return this.attributegroupId;
    }

    @Transient public long getId() {
        return this.attributegroupId;
    }


    public void setAttributegroupId(long attributegroupId) {
        this.attributegroupId = attributegroupId;
    }
                ]]>
            </meta>

            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>
            <set name="attributes" inverse="true" lazy="false">
                <key>
                    <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.Attribute"/>
            </set>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.Attribute" table="TATTRIBUTE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Particular attribute</comment>
        <id name="attributeId" type="long">
            <column name="ATTRIBUTE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <property name="code" column="CODE" type="string" length="32" not-null="true"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttributeEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long attributeId;

    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ATTRIBUTE_ID", nullable=false)
    public long getAttributeId() {
        return this.attributeId;
    }

    @Transient public long getId() {
        return this.attributeId;
    }


    public void setAttributeId(long attributeId) {
        this.attributeId = attributeId;
    }

   private String code;

   @Column(name="CODE", length=32, nullable=false)
   public String getCode() {
    return this.code;
   }

   public void setCode(String code) {
    this.code = code;
   }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        AttributeEntity that = (AttributeEntity) o;
        if (attributeId != that.attributeId) return false;
        return true;
    }

    @Override
    public int hashCode() {
        return (int) (attributeId ^ (attributeId >>> 32));
    }
   
                ]]>
            </meta>
            <property name="mandatory" length="1" type="boolean" not-null="true">
                <column name="MANDATORY" length="1" not-null="true">
                    <comment>Attribute must have the default value if mandatory flag is true</comment>
                </column>
            </property>
            <property name="allowduplicate" length="1" type="boolean" not-null="true">
                <column name="ALLOWDUPLICATE" length="1" not-null="true" default="0">
                    <comment>Allow to duplicate attr values. Example color - red and black</comment>
                </column>
            </property>
            <property name="allowfailover" length="1" type="boolean" not-null="true">
                <column name="ALLOWFAILOVER" length="1" not-null="true" default="0">
                    <comment>Allow search attribute value in parent object</comment>
                </column>
            </property>
            <property name="val" type="string" length="4000">
                <column name="VAL" length="4000">
                    <comment>Default value , shall be force inserted for new attributes, if attibute is mandaroty
                    </comment>
                </column>
            </property>
            <property name="regexp" type="string" length="4000">
                <column name="REXP" length="4000">
                    <comment>Regular expression to validate user input on UI. 
                    </comment>
                </column>
            </property>
            <property name="validationFailedMessage" type="string" length="4000">
                <column name="V_FAILED_MSG" length="4000">
                    <comment>Message if type, mandatory or re validation failed</comment>
                </column>
            </property>
            <property name="rank" type="int" not-null="true">
                <column name="RANK" default="500">
                    <comment>What order in dynamic form on UI</comment>
                </column>
            </property>
            <property name="choiceData" type="string" length="4000">
                <column name="CHOICES" length="4000">
                    <comment>Comma separated list of [key-]value. Or service url.</comment>
                </column>
            </property>


            <property name="name" column="NAME" not-null="true" type="string" length="64"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <many-to-one name="etype" class="org.yes.cart.domain.entity.Etype" foreign-key="FK_ATTRIBUTE_ETYPE" lazy="false">
                <column name="ETYPE_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="attributeGroup" class="org.yes.cart.domain.entity.AttributeGroup"
                         foreign-key="FK_ATTRIBUTE_ATTRIBUTEGROUP" lazy="false">
                <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>



    <class name="org.yes.cart.domain.entity.AttrValueCustomer" table="TCUSTOMERATTRVALUE"  discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityCustomer" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;
     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>
            <property name="val" column="VAL" type="string" length="4000"/>
            <many-to-one name="customer" class="org.yes.cart.domain.entity.Customer"  not-null="true" column="CUSTOMER_ID"/>
            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false" foreign-key="FK_C_ATTRIBUTE"
                         property-ref="code" insert="true" update="true">
                <column name="CODE" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.AttrValueShop" table="TSHOPATTRVALUE"   discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityShop" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),     @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>
            <property name="val" column="VAL" type="string" length="4000"/>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop"  not-null="true" column="SHOP_ID"/>
            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false"
                         foreign-key="FK_SHOP_ATTRIBUTE" property-ref="code" insert="true" update="true">
                <column name="CODE" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.AttrValue" table="TSYSTEMATTRVALUE" entity-name="SystemAttrValueEntity"
           discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntitySystem" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),  @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

     @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>

            <property name="val" column="VAL" type="string" length="4000"/>
            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false"
                         foreign-key="FK_PYS_ATTRIBUTE" property-ref="code" insert="false" update="false">
                <column name="CODE" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>




    <class name="org.yes.cart.domain.entity.AttrValueBrand" table="TBRANDATTRVALUE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityBrand" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;
     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),     @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>
            <many-to-one name="brand" class="org.yes.cart.domain.entity.Brand"  not-null="true" column="BRAND_ID"/>
            <property name="val" column="VAL" type="string" length="4000"/>
            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false"
                         property-ref="code" insert="true" update="true">
                <column name="CODE" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.AttrValueProduct" table="TPRODUCTATTRVALUE"   discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityProduct" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long attrvalueId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),  @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id
     @GeneratedValue /*(generator="generator")*/ 
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>

            <property name="val" column="VAL" type="string" length="4000">
                <meta attribute="field-description">UNCOMMENT @Fields( { @Field(index = Index.UN_TOKENIZED), @Field(name = "attrvalsearch", index = Index.TOKENIZED) } )    @ContainedIn</meta>
            </property>

            <many-to-one name="product" class="org.yes.cart.domain.entity.Product"  not-null="true" column="PRODUCT_ID"/>

            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false" foreign-key="FK_P_ATTRIBUTE"
                         property-ref="code" insert="true" update="true">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED) @ContainedIn  @FieldBridge(impl = org.yes.cart.domain.entity.bridge.AttributeBridge.class)
                </meta>
                <column name="CODE" not-null="true"/>
            </many-to-one>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.AttrValueProductSku" table="TPRODUCTSKUATTRVALUE"  discriminator-value="0">  <!--entity-name="ProductSkuAttrValueEntity"-->
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityProductSku" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),  @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>                                                                                     

            <property name="val" column="VAL" type="string" length="4000">
                <meta attribute="field-description">UNCOMMENT @Fields( { @Field(index = Index.UN_TOKENIZED), @Field(name = "attrvalsearch", index = Index.TOKENIZED) } )    @ContainedIn</meta>
            </property>

            <many-to-one name="productSku" class="org.yes.cart.domain.entity.ProductSku"  not-null="true" column="SKU_ID"/>

            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false" foreign-key="KF_S_ATTRIBUTE"
                         property-ref="code" insert="true" update="true">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED) @ContainedIn  @FieldBridge(impl = org.yes.cart.domain.entity.bridge.AttributeBridge.class)
                </meta>                
                <column name="CODE" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.AttrValueCategory" table="TCATEGORYATTRVALUE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttrValueEntityCategory" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
      private long attrvalueId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),     @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
     @Column(name="ATTRVALUE_ID", nullable=false)
     public long getAttrvalueId() {
        return this.attrvalueId;
     }

    @Transient public long getId() {
        return this.attrvalueId;
    }


     public void setAttrvalueId(long attrvalueId) {
         this.attrvalueId = attrvalueId;
     }
                ]]>
            </meta>

            <property name="val" column="VAL" type="string" length="4000"/>

            <many-to-one name="category" class="org.yes.cart.domain.entity.Category"  not-null="true" column="CATEGORY_ID"/>

            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false"
                         foreign-key="FK_CAT_ATTRIBUTE" property-ref="code" insert="true" update="true">
                <column name="CODE" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>




    <!-- ############################## common part #################################### -->


    <class name="org.yes.cart.domain.entity.Country" table="TCOUNTRY" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>List of supported countries.</comment>
        <id name="countryId" type="long">
            <column name="COUNTRY_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>

        <subclass name="org.yes.cart.domain.entity.impl.CountryEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long countryId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id

    @Column(name="COUNTRY_ID", nullable=false, length=2)
    public long getCountryId() {
        return this.countryId;
    }
    @Transient public long getId() {
        return this.countryId;
    }


    public void setCountryId(long countryId) {
        this.countryId = countryId;
    }
                ]]>
            </meta>
            <property name="countryCode" type="string" length="2">
                <column name="COUNTRY_CODE" length="2" not-null="true"/>
            </property>
            <property name="isoCode" type="string" length="3">
                <column name="ISO_CODE" length="3" not-null="true"/>
            </property>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


<class name="org.yes.cart.domain.entity.State" table="TSTATE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>List of supported states.</comment>
        <id name="stateId" type="long">
            <column name="STATE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>

        <subclass name="org.yes.cart.domain.entity.impl.StateEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long stateId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id
    @Column(name="COUNTRY_ID", nullable=false, length=2)
    public long getStateId() {
        return this.stateId;
    }

    @Transient public long getId() {
        return this.stateId;
    }

    public void setStateId(long stateId) {
        this.stateId = stateId;
    }
                ]]>
            </meta>
            <property name="countryCode" type="string" length="2">
                <column name="COUNTRY_CODE" length="2" not-null="true"/>
            </property>
            <property name="stateCode" type="string" length="16">
                <column name="STATE_CODE" length="64" not-null="true"/>
            </property>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>    

    <class name="org.yes.cart.domain.entity.Address" table="TADDRESS" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Locations have the same address struct in the same region</comment>
        <id name="addressId" type="long">
            <column name="ADDRESS_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AddressEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long addressId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ADDRESS_ID", nullable=false)
    public long getAddressId() {
        return this.addressId;
    }

    @Transient public long getId() {
        return this.addressId;
    }

    public void setAddressId(long addressId) {
        this.addressId = addressId;
    }
                ]]>
            </meta>
            <property name="city" type="string" column="CITY" length="128" not-null="true"/>
            <property name="postcode" type="string" column="POSTCODE" length="16" not-null="false"/>
            <property name="addrline1" type="string" column="ADDRLINE1" length="256" not-null="true"/>
            <property name="addrline2" type="string" column="ADDRLINE2" length="256" not-null="false"/>
            <property name="addressType" type="string"  not-null="true">
                <column name="ADDRESS_TYPE"  length="1" not-null="true"/>  <!-- S shipping B billing -->
            </property>

            <property name="countryCode" type="string" column="COUNTRY_CODE" length="64" not-null="true"/>
            <property name="stateCode" type="string" column="STATE_CODE" length="64" not-null="false"/>
            <property name="phoneList" type="string" column="PHONES" length="256" not-null="false"/>

            <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
            <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
            <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
            <property name="defaultAddress" type="boolean" column="DEFAULT_ADDR" length="1"  not-null="false"/> 

            <many-to-one name="customer" class="org.yes.cart.domain.entity.Customer"  not-null="true" column="CUSTOMER_ID"/>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.Mailtemplategroup" table="TMAILTEMPLATEGROUP" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <!--
                <comment>Groups of email templates.
                    Order notification,Shipment notification,Gift sertificates,Mail blasting,Happy bithday mails,etc.
                    Mostly for UI
                </comment>
        -->
        <id name="mailtemplategroupId" type="long">
            <column name="MAILTEMPLATEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.MailtemplategroupEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long mailtemplategroupId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="MAILTEMPLATEGROUP_ID", nullable=false)
    public long getMailtemplategroupId() {
        return this.mailtemplategroupId;
    }

    @Transient public long getId() {
        return this.mailtemplategroupId;
    }

    public void setMailtemplategroupId(long mailtemplategroupId) {
        this.mailtemplategroupId = mailtemplategroupId;
    }
                ]]>
            </meta>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.Mailtemplate" table="TMAILTEMPLATE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <!--
                <comment>Email templates. Need the posibility to create and manage email templates online (fckeditor ?)
                </comment>
        -->
        <id name="mailtemplateId" type="long">
            <column name="MAILTEMPLATE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.MailtemplateEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long mailtemplateId; // long live robots !


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="MAILTEMPLATE_ID", nullable=false)
    public long getMailtemplateId() {
        return this.mailtemplateId;
    }

     @Transient public long getId() {
        return this.mailtemplateId;
    }


    public void setMailtemplateId(long mailtemplateId) {
        this.mailtemplateId = mailtemplateId;
    }
                ]]>
            </meta>
            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="fspointer" type="string" length="4000">
                <column name="FSPOINTER" length="4000" not-null="true">
                    <comment>Absolute path to folder with html template files and images.</comment>
                </column>
            </property>
            <property name="name" type="string" length="256">
                <column name="NAME" length="256" not-null="true"/>
            </property>
            <property name="description" type="string" length="4000">
                <column name="DESCRIPTION"/>
            </property>
            <many-to-one name="mailTemplateGroup" class="org.yes.cart.domain.entity.Mailtemplategroup"
                         foreign-key="FK_M_TEMPLATEGROUP">
                <column name="MAILTEMPLATEGROUP_ID" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>

    </class>

    <!-- ########################################## #############################################################-->

    <class name="org.yes.cart.domain.entity.NpaSystem" table="TNPASYSTEM" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="npaSystemId" column="NPASYSTEM_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.NpaSystemEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long npaSystemId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="NPASYSTEM_ID", nullable=false)
    public long getNpaSystemId() {
        return this.npaSystemId;
    }

     @Transient public long getId() {
        return this.npaSystemId;
    }

    public void setNpaSystemId(long npaSystemId) {
        this.npaSystemId = npaSystemId;
    }

                ]]>
            </meta>
            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>

            <map name="attribute" inverse="false" lazy="false" cascade="all">
                <key column="NPASYSTEM_ID" not-null="true" foreign-key="FK_ATTR_SYS"/>
                <map-key type="string" column="CODE"/>
                <one-to-many not-found="ignore" entity-name="SystemAttrValueEntity"/>
            </map>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>


        </subclass>
    </class>


    
    <!-- ################################ Categories and Products ###################################### -->

    <class name="org.yes.cart.domain.entity.ProductTypeAttr" table="TPRODUCTTYPEATTR"  discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="productTypeAttrId" type="long">
            <column name="PRODTYPEATTR_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductTypeAttrEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">com.thoughtworks.xstream.XStream</meta>
            <meta attribute="extra-import">com.thoughtworks.xstream.io.xml.DomDriver</meta>            
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.range.RangeList</meta>
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.range.impl.RangeListImpl</meta>
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.range.impl.RangeNodeImpl</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
 private long productTypeAttrId;

// @GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

 @Id @GeneratedValue /*(generator="generator")*/ 
 @Column(name="PRODUCTTYPEATTR_ID", nullable=false)
 public long getProductTypeAttrId() {
     return productTypeAttrId;
 }

 @Transient public long getId() {
        return this.productTypeAttrId;
   }


public void setProductTypeAttrId(long productTypeAttrId) {
     this.productTypeAttrId = productTypeAttrId;
}

@Transient
private XStream getXStream() {
    XStream xStream = new XStream(new DomDriver());
    xStream.alias(RangeList.RANGE_NODE_ALIAS, RangeNodeImpl.class);
    xStream.alias(RangeList.RANGE_LIST_ALIAS, RangeListImpl.class);
    return xStream;
}

private RangeList rangeListCache = null;

@Transient
public RangeList getRangeList() {
   if (rangeListCache == null && getRangeNavigation()!= null) {
       XStream xStream = getXStream();
       rangeListCache = (RangeList) xStream.fromXML(getRangeNavigation());
   }
   return rangeListCache;
}

public void setRangeList(final RangeList rangeList) {
    setRangeNavigation(getXStream().toXML(rangeList));
    this.rangeListCache = rangeList;
}

            ]]>
            </meta>
            <many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false" foreign-key="FK_PTA_ATTR"
                         property-ref="code" insert="true" update="true" cascade="save-update">
                <column name="CODE" not-null="true"/>
            </many-to-one>
            <many-to-one name="producttype" class="org.yes.cart.domain.entity.ProductType" foreign-key="FK_PTA_PRODTYPE"
                         cascade="save-update" insert="true" update="true">
                <column name="PRODUCTTYPE_ID" not-null="true"/>
            </many-to-one>
            <property name="rank" type="int" not-null="true">
                <column name="RANK" default="500">
                    <comment>What order for filtered navigation</comment>
                </column>
            </property>
            <property name="visible" type="boolean">
                <column name="VISIBLE">
                    <comment>Is attribute visible on storefront</comment>
                </column>
            </property>
            <property name="simulariry" type="boolean">
                <column name="SIMULARITY">
                    <comment>Is attribute will be used for calculate products simularity</comment>
                </column>
            </property>

            <property name="navigation" type="boolean">
                <column name="NAV">
                    <comment>Will be used in filtered navigation</comment>
                </column>
            </property>
            <property name="navigationType" type="string" length="1">
                <column name="NAV_TYPE" default="'S'" length="1">
                    <comment>S - single, R- range</comment>
                </column>
            </property>
            <property name="rangeNavigation" type="string" length="4000">
                <column name="RANGE_NAV" length="4000">
                    <comment>In case of range navigation hold the ranges values</comment>
                </column>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.AttributeViewGroup" table="TATTRVIEWGROUP" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Attrib view group. Example: optic system, sizes, etc.</comment>
        <id name="attributeViewGroupId" type="long">
            <column name="ATTRVIEWGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AttributeViewGroupEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long attributeViewGroupId;
    //@GenericGenerator( name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ATTRIBUTEGROUP_ID", nullable=false)
    public long getAttributeViewGroupId() {
        return this.attributeViewGroupId;
    }
    @Transient public long getId() {
        return this.attributeViewGroupId;
    }
    public void setAttributeViewGroupId(long attributeViewGroupId) {
        this.attributeViewGroupId = attributeViewGroupId;
    }
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;

        AttributeViewGroupEntity that = (AttributeViewGroupEntity) o;

        if (attributeViewGroupId != that.attributeViewGroupId) return false;

        return true;
    }

    @Override
    public int hashCode() {
        return (int) (attributeViewGroupId ^ (attributeViewGroupId >>> 32));
    }
    

                ]]>
            </meta>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>



    <class name="org.yes.cart.domain.entity.ProductType" table="TPRODUCTTYPE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Product type.
        </comment>
        <id name="producttypeId" type="java.lang.Long">
            <column name="PRODUCTTYPE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductTypeEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long producttypeId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="PRODUCTTYPE_ID", nullable=false)
    public long getProducttypeId() {
        return this.producttypeId;
    }
    @Transient public long getId() {
        return this.producttypeId;
    }
    public void setProducttypeId(long producttypeId) {
        this.producttypeId = producttypeId;
    }

                ]]>
            </meta>

            <property name="name" type="string" length="256" not-null="true">
                <column name="NAME"/>
            </property>
            <property name="description" type="string" length="4000">
                <column name="DESCRIPTION"/>
            </property>

            <bag name="attributeViewGroup" inverse="false" lazy="false" cascade="all" order-by="RANK">
                <key>
                    <column name="PRODUCTTYPE_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProdTypeAttributeViewGroup"/>
            </bag>

            <bag name="attribute" inverse="true" lazy="false" cascade="all">
                <key not-null="true" on-delete="cascade" column="PRODUCTTYPE_ID"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductTypeAttr" />
            </bag>
            

            <property name="uitemplate" type="string" length="256">
                <column name="UITEMPLATE">
                    <comment>What UI template will be used for show particular type of product.
                    </comment>
                </column>
            </property>
            <property name="uisearchtemplate" type="string" length="256">
                <column name="UISEARCHTEMPLATE">
                    <comment>UI template label for search on category, if category has a default product type.
                    </comment>
                </column>
            </property>
            <property name="service" type="boolean">
                <column name="SERVICE">
                    <comment>shall we treat this like service ? It mean no inventory will be check
                    </comment>
                </column>
            </property>
            <property name="ensemble" type="boolean">
                <column name="ENSEMBLE">
                    <comment>is this a bundle of products ?
                    </comment>
                </column>
            </property>
            <property name="shipable" type="boolean">
                <column name="SHIPABLE">
                    <comment>is this the physical product ? must have weight and sizes in attributes if yes
                    </comment>
                </column>
            </property>
            <property name="digital" type="boolean">
                <column name="DIGITAL" default="0">
                    <comment>is this the digital product ?
                    </comment>
                </column>
            </property>
            <property name="downloadable" type="boolean">
                <column name="DOWNLOADABLE"  default="0">
                    <comment>is digital product can be downloaded?
                    </comment>
                </column>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ProdTypeAttributeViewGroup" table="TPRODTYPEATTRVIEWGROUP" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <meta attribute="interface">false</meta>
        <comment>Attrib view group. Example: optic system, sizes, etc.</comment>
        <id name="prodTypeAttributeViewGroupId" type="long">
            <column name="PRODTYPEATTRIBUTEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProdTypeAttributeViewGroupEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long prodTypeAttributeViewGroupId;

    //@GenericGenerator( name="generator",  strategy="native",  parameters={@Parameter(name="column", value="value"),  @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ATTRIBUTEGROUP_ID", nullable=false)
    public long getProdTypeAttributeViewGroupId() {
        return this.prodTypeAttributeViewGroupId;
    }

    @Transient public long getId() {
        return this.prodTypeAttributeViewGroupId;
    }

    public void setProdTypeAttributeViewGroupId(long prodTypeAttributeViewGroupId) {
        this.prodTypeAttributeViewGroupId = prodTypeAttributeViewGroupId;
    }
                ]]>
            </meta>
            <many-to-one name="producttype" class="org.yes.cart.domain.entity.ProductType"  insert="false" update="false">
                <column name="PRODUCTTYPE_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="attributeViewGroup" class="org.yes.cart.domain.entity.AttributeViewGroup" lazy="false" insert="false" update="false">
                <column name="ATTRVIEWGROUP_ID" not-null="true"/>
            </many-to-one>
            <property name="attrCodeList" length="4000" type="string">
                <column name="ATTRCODELIST" length="4000"/>
            </property>
            <!--many-to-one name="attribute" class="org.yes.cart.domain.entity.Attribute" lazy="false"
                         property-ref="code" insert="false" update="false">
                <column name="CODE" not-null="true"/>
            </many-to-one-->
            <property name="rank" type="int" not-null="false">
                <column name="RANK">
                    <comment>
                        What the default order of attribute group for prod type ?
                    </comment>
                </column>
            </property>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>    


    <class name="org.yes.cart.domain.entity.Availability" table="TAVAILABILITY" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Product availability: always,pre/backorder,on warehouse</comment>
        <id name="availabilityId" type="long">
            <column name="AVAILABILITY_ID" not-null="true">
            </column>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AvailabilityEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long availabilityId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="AVAILABILITY_ID", nullable=false)
    public long getAvailabilityId() {
        return this.availabilityId;
    }

    @Transient public long getId() {
        return this.availabilityId;
    }

    public void setAvailabilityId(long availabilityId) {
        this.availabilityId = availabilityId;
    }



                ]]>
            </meta>
            <property name="name" type="string" length="256" not-null="true">
                <column name="NAME"/>
            </property>
            <property name="description" type="string" length="4000">
                <column name="DESCRIPTION" length="4000"/>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

<class name="org.yes.cart.domain.entity.Category" table="TCATEGORY" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Category , self related table.</comment>
        <id name="categoryId" column="CATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CategoryEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.*</meta>
            <meta attribute="extra-import">com.thoughtworks.xstream.XStream</meta>
            <meta attribute="extra-import">com.thoughtworks.xstream.io.xml.DomDriver</meta>
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.price.PriceTierTree</meta>
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.price.impl.PriceTierTreeImpl</meta>
            <meta attribute="extra-import">org.yes.cart.domain.misc.navigation.price.impl.PriceTierNodeImpl</meta>
            <meta attribute="extra-import">org.yes.cart.domain.entity.AttrValue</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long categoryId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="CATEGORY_ID", nullable=false)
    public long getCategoryId() {
        return this.categoryId;
    }

    @Transient public long getId() {
        return this.categoryId;
    }

    public void setCategoryId(long categoryId) {
        this.categoryId = categoryId;
    }
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        CategoryEntity that = (CategoryEntity) o;
        if (categoryId != that.categoryId) return false;
        return true;
    }
    @Override
    public int hashCode() {
        return (int) (categoryId ^ (categoryId >>> 32));
    }

    @Transient
    private XStream getXStream() {
        XStream xStream = new XStream(new DomDriver());
        xStream.alias(PRICE_TREE_ALIAS, PriceTierTreeImpl.class);
        xStream.alias(PRICE_NODE_ALIAS, PriceTierNodeImpl.class);
        return xStream;
    }

    private PriceTierTree priceTierTreeCache = null;

    @Transient
    public PriceTierTree getNavigationByPriceTree() {
        if (priceTierTreeCache == null && getNavigationByPriceTiers()!=null) {
            XStream xStream = getXStream();
            priceTierTreeCache = (PriceTierTree)xStream.fromXML(getNavigationByPriceTiers()); //This method like to eat CPU
        }
        return priceTierTreeCache;
    }


    public void setNavigationByPriceTree(PriceTierTree tree) {
        setNavigationByPriceTiers(getXStream().toXML(tree));
        this.priceTierTreeCache = tree;
    }

    @Override
    public String toString() {
        return this.getClass().getName() + this.getCategoryId();
    }

    @Transient
    public Set<AttrValueCategory> getAttributesByCode(final String attributeCode) {
        final Set<AttrValueCategory> result = new HashSet<AttrValueCategory>();
        if (this.attribute != null) {
            for (AttrValueCategory attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    result.add(attrValue);
                }
            }
        }
        if (result.isEmpty()) {
            return null;
        }
        return result;
    }

    @Transient
    public AttrValueCategory getAttributeByCode(String attributeCode) {
        if (this.attribute != null) {
            for (AttrValueCategory attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    return attrValue;
                }
            }
        }
        return null;
    }

    @Transient
    public Collection<AttrValue> getAllAttibutes() {
        return new ArrayList<AttrValue>(attribute);
    }



                ]]>
            </meta>
            <property name="parentId" column="PARENT_ID" type="long"/>
            <property name="rank" type="int" not-null="false">
                <column name="RANK">
                    <comment>
                        What the default order of child category in parent ?
                    </comment>
                </column>
            </property>
            <many-to-one name="productType" class="org.yes.cart.domain.entity.ProductType" foreign-key="FK_CAT_PRODTYPE" lazy="false" cascade="save-update">
                <column name="PRODUCTTYPE_ID" not-null="false">
                    <comment>Default product type in category, can be null if category contains different product types
                    </comment>
                </column>
            </many-to-one>

            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <property name="uitemplate" type="string" length="256" not-null="true">
                <column name="UITEMPLATE">
                    <comment>point to a products in list template. Can be used parent template if it not set. In case of
                        no templates at all, store product in list template will be used
                    </comment>
                </column>
            </property>
            <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
            <property name="availabletill" column="AVAILABLETILL" type="timestamp"/>


            <bag name="attribute" inverse="true" lazy="false" cascade="all">
                <key column="CATEGORY_ID" not-null="true" on-delete="cascade"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueCategory" />
            </bag>

            <many-to-one name="seo" class="org.yes.cart.domain.entity.Seo" lazy="false" foreign-key="FK_CAT_SEO" cascade="all">
                <column name="SEO_ID" not-null="false"/>
            </many-to-one>

            <set name="productCategory" inverse="false" lazy="false" cascade="all">
                <key column="CATEGORY_ID" not-null="false"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductCategory"/>
            </set>

            <property name="navigationByAttributes" length="1" type="java.lang.Boolean" not-null="true">
                <column name="NAV_BY_ATTR" length="1" not-null="false">
                    <comment>Filtered navigation by attribute values</comment>
                </column>
            </property>

            <property name="navigationByBrand" length="1" type="java.lang.Boolean" not-null="true">
                <column name="NAV_BY_BRAND" length="1" not-null="false">
                    <comment>Filtered navigation by brand</comment>
                </column>
            </property>

            <property name="navigationByPrice" length="1" type="java.lang.Boolean" not-null="true">
                <column name="NAV_BY_PRICE" length="1" not-null="false">
                    <comment>Filtered navigation by price range</comment>
                </column>
            </property>

            <property name="navigationByPriceTiers" type="string" length="4000">
                <column name="NAV_BY_PRICE_TIERS" length="4000" not-null="false">
                    <comment>Optional price range configuration. Default shop price tiers configuration will used if empty</comment>
                </column>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>    

    <class name="org.yes.cart.domain.entity.Brand" table="TBRAND" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Product brand / manafacturer</comment>
        <id name="brandId" type="long">
            <column name="BRAND_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.BrandEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long brandId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="BRAND_ID", nullable=false)
    public long getBrandId() {
        return this.brandId;
    }

    @Transient public long getId() {
        return this.brandId;
    }

    public void setBrandId(long brandId) {
        this.brandId = brandId;
    }

                ]]>
            </meta>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>


            <bag name="attribute" inverse="true" lazy="false" cascade="all">
                <key not-null="true" on-delete="cascade" column="BRAND_ID"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueBrand" />
            </bag>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.Product" table="TPRODUCT" discriminator-value="0">
        <meta attribute="interface">true</meta>

        <id name="productId" type="long">
            <column name="PRODUCT_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductEntity" discriminator-value="1">
            <meta attribute="class-description">UNCOMMENT @Indexed (index = "luceneindex/product")</meta>
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">org.yes.cart.domain.entity.AttrValue</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long productId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @DocumentId
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="PRODUCT_ID", nullable=false)
    public long getProductId() {
        return this.productId;
    }

    @Transient public long getId() {
        return this.productId;
    }


    public void setProductId(long productId) {
        this.productId = productId;
    }

    @Transient
    public ProductSku getDefaultSku() {
        if (this.getSku() != null && !this.getSku().isEmpty()) {
            return this.getSku().iterator().next();
        }
        return null;        
    }

   @Transient
    public Collection<AttrValueProduct> getAttributesByCode(final String attributeCode) {
        final Collection<AttrValueProduct> result = new ArrayList<AttrValueProduct>();
        if (this.attribute != null) {
            for (AttrValueProduct attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    result.add(attrValue);
                }
            }
        }
        return result;
    }

    @Transient
    public AttrValueProduct getAttributeByCode(final String attributeCode) {
        if (this.attribute != null) {
            for (AttrValueProduct attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    return attrValue;
                }
            }
        }
        return null;
    }

     @Transient
    public Collection<AttrValue> getAllAttibutes() {
        return new ArrayList<AttrValue>(attribute);
    }

    @Transient
    public ProductSku getSku(final String skuCode) {
        for(ProductSku prodSku : sku) {
            if ( prodSku.getCode().equals(skuCode)) {
                return prodSku;
            }
        }
        return null;
    }

    @Transient
    public boolean isMultiSkuProduct() {
        return sku.size() > 1;
    }

    @Override
    public String toString() {
        return this.getClass().getName() + this.getProductId();
    }
                ]]>
            </meta>
            <property name="code" type="string" length="256" not-null="true">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED, store = Store.YES)</meta>
                <column name="CODE" length="256" not-null="true">
                    <comment>Product or product sku code</comment>
                </column>
            </property>
            <property name="availablefrom" type="timestamp" not-null="false">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED, store = Store.YES)</meta>
                <column name="AVAILABLEFROM">
                    <comment>
                        AVAILABLEFROM AVAILABLETILL date range when product will be available, for pre and back orders
                    </comment>
                </column>
            </property>
            <property name="availabletill" column="AVAILABLETILL" type="timestamp" not-null="false">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED, store = Store.YES)</meta>
            </property>
            <property name="name" type="string" length="256" not-null="true">
                <meta attribute="field-description">UNCOMMENT @Fields( { @Field(index = Index.TOKENIZED, store = Store.YES), @Field(name = "name_sort", index = Index.UN_TOKENIZED, store = Store.YES) }) </meta>
                <column name="NAME" length="256" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.TOKENIZED, store = Store.YES) </meta>
                <column name="DESCRIPTION" length="4000"/>
            </property>

            <many-to-one name="brand" class="org.yes.cart.domain.entity.Brand" foreign-key="FK_PROD_BRAND">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED, store = Store.YES)    @FieldBridge(impl = org.yes.cart.domain.entity.bridge.BrandBridge.class)</meta>
                <column name="BRAND_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="producttype" class="org.yes.cart.domain.entity.ProductType" foreign-key="FK_PROD_PRODTYPE" lazy="false">
                <meta attribute="field-description">UNCOMMENT @Field(index = Index.UN_TOKENIZED, store = Store.YES)  @FieldBridge(impl = org.yes.cart.domain.entity.bridge.ProductTypeValueBridge.class)</meta>
                <column name="PRODUCTTYPE_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="availability" class="org.yes.cart.domain.entity.Availability" foreign-key="FK_PROD_AVAIL">
                <column name="AVAILABILITY_ID" not-null="true"/>
            </many-to-one>


            <bag name="attribute" inverse="true" lazy="false" cascade="all">
			    <meta attribute="field-description">UNCOMMENT @IndexedEmbedded (targetElement =  AttrValueEntityProduct.class)</meta>
                <key not-null="true" on-delete="cascade" column="PRODUCT_ID"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueProduct" />
            </bag>


            <set name="productCategory" inverse="false" lazy="true" cascade="all">
                <meta attribute="field-description">UNCOMMENT @IndexedEmbedded (targetElement =  ProductCategoryEntity.class)</meta>
                <key>
                    <column name="PRODUCT_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductCategory"/>
            </set>

            <bag name="sku" inverse="false" lazy="false" cascade="all" order-by="RANK">
			    <meta attribute="field-description">UNCOMMENT @IndexedEmbedded (targetElement =  ProductSkuEntity.class)</meta>
                <key>
                    <column name="PRODUCT_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductSku"/>
            </bag>


            <set name="ensebleOption" inverse="false" lazy="false" cascade="all">
                <key>
                    <column name="PRODUCT_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductEnsebleOption"/>
            </set>
            
            <set name="productAssociations" inverse="false" lazy="true" cascade="all">
                <key>
                    <column name="PRODUCT_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ProductAssociation"/>
            </set>

            <property name="featured" length="1" type="java.lang.Boolean" not-null="false">
                <column name="FEATURED" length="1" not-null="false">
                    <comment>Is product featured?</comment>
                </column>
            </property>



            <many-to-one name="seo" class="org.yes.cart.domain.entity.Seo" lazy="false" foreign-key="FK_PROD_SEO" cascade="all">
                <column name="SEO_ID" not-null="false"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>            
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ProductEnsebleOption" table="TENSEMBLEOPT" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Ensemble options - how many particular sku in ensemble</comment>
        <id name="ensembleOptId" column="ENSEMBLEOPT_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductEnsebleOptionEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long ensembleOptId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ENSEMBLEOPT_ID", nullable=false)
    public long getEnsembleOptId() {
        return this.ensembleOptId;
    }

    @Transient public long getId() {
        return this.ensembleOptId;
    }

    public void setEnsembleOptId(long ensembleOptId) {
        this.ensembleOptId = ensembleOptId;
    }

                ]]>
            </meta>
            <property name="qty" column="QTY" type="int" not-null="true"/>
            <many-to-one name="product" class="org.yes.cart.domain.entity.Product" foreign-key="FK_ENS_PROD">
                <column name="PRODUCT_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="sku" class="org.yes.cart.domain.entity.ProductSku" foreign-key="FK_END_SKU">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ProductSku" table="TSKU" discriminator-value="0">
        <meta attribute="interface">true</meta>

        <id name="skuId" column="SKU_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductSkuEntity" discriminator-value="1">
            <!--meta attribute="class-description">UNCOMMENT @Indexed (index = "luceneindex/productsku")</meta-->
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
			<meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="extra-import">org.yes.cart.domain.entity.AttrValue</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long skuId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SKU_ID", nullable=false)
    @Field(index=Index.UN_TOKENIZED) @ContainedIn
    public long getSkuId() {
        return this.skuId;
    }

    @Transient public long getId() {
        return this.skuId;
    }

    public void setSkuId(long skuId) {
        this.skuId = skuId;
    }

   @Transient
    public Collection<AttrValueProductSku> getAttributesByCode(final String attributeCode) {
        final Collection<AttrValueProductSku> result = new ArrayList<AttrValueProductSku>();
        if (this.attribute != null) {
            for (AttrValueProductSku attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    result.add(attrValue);
                }
            }
        }
        return result;
    }

    @Transient
    public AttrValueProductSku getAttributeByCode(final String attributeCode) {
        if (this.attribute != null) {
            for (AttrValueProductSku attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    return attrValue;
                }
            }
        }
        return null;
    }

    @Transient
    public Collection<AttrValue> getAllAttibutes() {
        return new ArrayList<AttrValue>(attribute);
    }
    ]]>

            </meta>
            <property name="code" column="CODE" type="string" length="256" not-null="true">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn</meta>
            </property>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>

            <many-to-one name="product" class="org.yes.cart.domain.entity.Product" foreign-key="FK_SKU_PROD" lazy="false">
                <column name="PRODUCT_ID" not-null="false"/>
            </many-to-one>

            <property name="rank" type="int" not-null="false">
                <column name="RANK">
                    <comment>
                        Order of sku for product. Firts is default.
                    </comment>
                </column>
            </property>

            <property name="barCode" length="128" type="string">
                <column name="BARCODE" length="128"/>
            </property>


            <bag name="skuPrice" inverse="false" lazy="false" cascade="all" order-by="qty">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn @IndexedEmbedded (targetElement =  SkuPriceEntity.class) @FieldBridge(impl = org.yes.cart.domain.entity.bridge.SkuPriceBridge.class)</meta>
                <key>
                    <column name="SKU_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.SkuPrice"/>
            </bag>


            <bag name="attribute" inverse="false" lazy="false" cascade="all">
                <meta attribute="field-description">UNCOMMENT @IndexedEmbedded (targetElement =  AttrValueEntityProductSku.class)</meta>
                <key>
                    <column name="SKU_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueProductSku" />
            </bag>

            <many-to-one name="seo" class="org.yes.cart.domain.entity.Seo" lazy="false" foreign-key="FK_SKU_SEO" cascade="all">
                <column name="SEO_ID" not-null="false"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>
    <!-- ################################### price ####################################### -->

    <class name="org.yes.cart.domain.entity.SkuPrice" table="TSKUPRICE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Prices. Some discriminators like condition can be added</comment>
        <id name="skuPriceId" column="SKUPRICE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.SkuPriceEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long skuPriceId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SKUPRICE_ID", nullable=false)
    public long getSkuPriceId() {
        return this.skuPriceId;
    }

    @Transient public long getId() {
        return this.skuPriceId;
    }

    public void setSkuPriceId(long skuPriceId) {
        this.skuPriceId = skuPriceId;
    }
                ]]>
            </meta>
            <many-to-one name="sku" class="org.yes.cart.domain.entity.ProductSku" foreign-key="FK_SP_SKU">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_SP_SHOP">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn  @FieldBridge(impl = org.yes.cart.domain.entity.bridge.ShopBridge.class)</meta>
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>

            <property name="currency" type="string" length="3" not-null="true" column="CURRENCY">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn</meta>
            </property>

            <property name="quantity" type="java.math.BigDecimal" not-null="false">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn @FieldBridge(impl = org.yes.cart.domain.entity.bridge.BigDecimalBridge.class)</meta>
                <column name="QTY" not-null="true">
                    <comment>Quantity of SKU. Price tier</comment>
                </column>
            </property>
            <property name="regularPrice" type="java.math.BigDecimal" not-null="true">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn @FieldBridge(impl = org.yes.cart.domain.entity.bridge.BigDecimalBridge.class)</meta>
                <column name="REGULAR_PRICE" not-null="true">
                    <comment>Regular price</comment>
                </column>
            </property>
            <property name="salePrice" type="java.math.BigDecimal" not-null="false">
                <column name="SALE_PRICE" not-null="false">
                    <comment>Sale price. Must be less that regular</comment>
                </column>
            </property>
            <property name="minimalPrice" type="java.math.BigDecimal" not-null="false">
                <column name="MINIMAL_PRICE" not-null="false">
                    <comment>Minimal price used in name-your-price pricing strategy. Must be less that regular</comment>
                </column>
            </property>
            <property name="salefrom" column="SALE_FROM" type="timestamp" not-null="false"/>
            <property name="saletill" column="SALE_TILL" type="timestamp" not-null="false"/>



            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>        

    <class name="org.yes.cart.domain.entity.ProductCategory" table="TPRODUCTCATEGORY" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="productCategoryId" column="PRODUCTCATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductCategoryEntity" discriminator-value="1">
            <!--
         <meta attribute="class-description">UNCOMMENT @Indexed</meta> -->
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long productCategoryId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="PRODUCTCATEGORY_ID", nullable=false)
    public long getProductCategoryId() {
        return this.productCategoryId;
    }

    @Transient public long getId() {
        return this.productCategoryId;
    }

    public void setProductCategoryId(long productCategoryId) {
        this.productCategoryId = productCategoryId;
    }
                ]]>
            </meta>
            <many-to-one name="product" class="org.yes.cart.domain.entity.Product" foreign-key="FK_PC_PRODUCT">
                <column name="PRODUCT_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="category" class="org.yes.cart.domain.entity.Category" foreign-key="FK_PC_CAT">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn  @FieldBridge(impl = org.yes.cart.domain.entity.bridge.CategoryBridge.class)</meta>
                <column name="CATEGORY_ID" not-null="true"/>
            </many-to-one>
            <property name="rank" type="int" not-null="false">
                <meta attribute="field-description">UNCOMMENT @Field(index=Index.UN_TOKENIZED) @ContainedIn @FieldBridge(impl = org.yes.cart.domain.entity.bridge.RankBridge.class)</meta>
                <column name="RANK">
                    <comment>
                        What the default order of particular product in partcular category
                    </comment>
                </column>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.Association" table="TASSOCIATION" discriminator-value="0">
        <meta attribute="interface">true</meta>
         <comment>Cross/up/accesories/who buy also buy sell</comment>
        <id name="associationId" column="ASSOCIATION_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.AssociationEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long associationId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="ASSOCIATION_ID", nullable=false)
    public long getAssociationId() {
        return this.associationId;
    }

    @Transient public long getId() {
        return this.associationId;
    }

    public void setAssociationId(long associationId) {
        this.associationId = associationId;
    }

                ]]>
            </meta>
            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.ProductAssociation" table="TPRODUCTASSOCIATION" discriminator-value="0">
        <meta attribute="interface">true</meta>

        <id name="productassociationId" column="PRODUCTASSOCIATION_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ProductAssociationEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long productassociationId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="PRODUCTASSOCIATION_ID", nullable=false)
    public long getProductassociationId() {
        return this.productassociationId;
    }

    @Transient public long getId() {
        return this.productassociationId;
    }


    public void setProductassociationId(long productassociationId) {
        this.productassociationId = productassociationId;
    }


                ]]>
            </meta>
            <property name="rank" type="int" not-null="false">
                <column name="RANK">
                    <comment>
                        RANK can have different meaning, depending from association type
                        for example simularity always will be less, that 1000000 (MAX simularity)
                        who buy , counter of who buy the one product also buy other product
                    </comment>
                </column>
            </property>
            <many-to-one name="association" class="org.yes.cart.domain.entity.Association" foreign-key="FK_PA_ASSOC">
                <column name="ASSOCIATION_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="product" class="org.yes.cart.domain.entity.Product" foreign-key="FK_PA_PRODUCT">
                <column name="PRODUCT_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="productAssociated" class="org.yes.cart.domain.entity.Product" foreign-key="FK_PA_ASSOCPROD">
                <column name="ASSOCIATEDPRODUCT_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <!-- ########################################## warehouse ######################### -->


    <class name="org.yes.cart.domain.entity.Warehouse" table="TWAREHOUSE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="warehouseId" column="WAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.WarehouseEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long warehouseId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="WAREHOUSE_ID", nullable=false)
    public long getWarehouseId() {
        return this.warehouseId;
    }

    @Transient public long getId() {
        return this.warehouseId;
    }


    public void setWarehouseId(long warehouseId) {
        this.warehouseId = warehouseId;
    }
                ]]>
            </meta>
            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>

            <property name="countryCode" type="string" column="COUNTRY_CODE" length="64" not-null="false"/>
            <property name="stateCode" type="string" column="STATE_CODE" length="64" not-null="false"/>
            <property name="city" type="string" column="CITY" length="128" not-null="false"/>
            <property name="postcode" type="string" column="POSTCODE" length="16" not-null="false"/>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>

    </class>

    <!-- ####################################### Store ################################# -->

    <class name="org.yes.cart.domain.entity.Shop" table="TSHOP" discriminator-value="0">
        <meta attribute="interface">true</meta>        
        <id name="shopId" column="SHOP_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.*</meta>
            <meta attribute="extra-import">java.util.List</meta>
            <meta attribute="extra-import">java.util.Arrays</meta>
            <meta attribute="extra-import">org.yes.cart.constants.AttributeNamesKeys</meta>
            <meta attribute="extra-import">org.yes.cart.util.DomainApiUtil</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
    private long shopId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOP_ID", nullable=false)
    public long getShopId() {
        return this.shopId;
    }

    @Transient public long getId() {
        return this.shopId;
    }

    public void setShopId(long shopId) {
        this.shopId = shopId;
    }

    @Transient
    public String getSupportedCurrensies() {
        final AttrValueShop attrValueShop = getAttributeByCode(AttributeNamesKeys.SUPPORTED_CURRENSIES);
        if (attrValueShop != null) {
            return attrValueShop.getVal();
        }
        return null;        
    }

    @Transient
    public String getDefaultCurrency() {
        String currensies = getSupportedCurrensies();
        if (currensies != null) {
            return currensies.split(",")[0];
        }
        return null;
    }

    @Transient
    public List<String> getSupportedCurrensiesAsList() {
        final String currensies = getSupportedCurrensies();
        if (currensies != null) {
            return Arrays.asList(currensies.split(","));
        }
        return null;
    }


   @Transient
    public Collection<AttrValueShop> getAttributesByCode(final String attributeCode) {
        final Collection<AttrValueShop> result = new ArrayList<AttrValueShop>();
        if (this.attribute != null) {
            for (AttrValueShop attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    result.add(attrValue);
                }
            }
        }
        return result;
    }

    @Transient
    public AttrValueShop getAttributeByCode(final String attributeCode) {
        if (this.attribute != null) {
            for (AttrValueShop attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    return attrValue;
                }
            }
        }
        return null;
    }

    @Override
    public String toString() {
         return this.getClass().getName() + this.getShopId();
    }

    @Transient
    public boolean isB2ProfileActive() {
        final AttrValueShop avs = getAttributeByCode(
                AttributeNamesKeys.SHOP_B2B);
        if (avs != null) {
            return Boolean.valueOf(avs.getVal());
        }
        return false;
    }
    


                ]]>
            </meta>
            <property name="code" column="CODE" type="string" length="32" not-null="true"/>
            <property name="name" type="string" length="64" not-null="true">
                <column name="NAME" length="64" not-null="true"/>
            </property>
            <property name="description" length="4000" type="string">
                <column name="DESCRIPTION" length="4000"/>
            </property>
            <property name="fspointer" length="4000" type="string">
                <column name="FSPOINTER" length="4000" not-null="true">
                    <comment>
                        Point to jsps
                    </comment>
                </column>
            </property>
            <set name="shopUrl" inverse="true" lazy="false" cascade="all">
                <key>
                    <column name="SHOP_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopUrl"/>
            </set>
            <bag name="exchangerates" inverse="false" lazy="false" cascade="all">
                <key>
                    <column name="SHOP_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopExchangeRate"/>
            </bag>
            <bag name="advertisingPlaces" inverse="false" lazy="false" cascade="all">
                <key>
                    <column name="SHOP_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopAdvPlace"/>
            </bag>
            <bag name="shopDiscountRules" inverse="true" lazy="false" cascade="all">
                <key>
                    <column name="SHOP_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopDiscount"/>
            </bag>

            <bag name="attribute" inverse="true" lazy="false" cascade="all">
                <key column="SHOP_ID" not-null="true" foreign-key="FK_ATTR_SHOP"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueShop"/>
            </bag>


            <many-to-one name="seo" class="org.yes.cart.domain.entity.Seo" lazy="false" foreign-key="FK_SHOP_SEO" cascade="all">
                <column name="SEO_ID" not-null="false"/>
            </many-to-one>


            <bag name="shopCategory" inverse="false" lazy="false" cascade="all" order-by="RANK">
                <key>
                    <column name="SHOP_ID" not-null="false"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopCategory"/>
            </bag>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ShopTopSeller" table="TSHOPTOPSELLER" discriminator-value="0">
         <meta attribute="interface">true</meta>
        <comment>Hold top seller information</comment>
        <id name="shopTopsellerId" column="SHOPTOPSELLER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopTopSellerEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[

    private long shopTopsellerId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="SHOPTOPSELLER_ID", nullable=false)
    public long getShopTopsellerId() {
        return shopTopsellerId;
    }

    public void setShopTopsellerId(long shopTopsellerId) {
        this.shopTopsellerId = shopTopsellerId;
    }

    @Transient public long getId() {
        return this.shopTopsellerId;
    }



                ]]>
            </meta>

            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="product" class="org.yes.cart.domain.entity.Product">
                <column name="PRODUCT_ID" not-null="true"/>
            </many-to-one>
            <property name="counter" column="COUNTER" type="java.math.BigDecimal"  not-null="false"/>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>

    </class>


   <class name="org.yes.cart.domain.entity.ShopWarehouse" table="TSHOPWAREHOUSE" discriminator-value="0">
       <!--TODO v2 add usage priority in next release-->
        <meta attribute="interface">true</meta>
        <comment>Relation between shop and warehouses</comment>
        <id name="shopWarehouseId" column="SHOPWAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopWarehouseEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[

    private long shopWarehouseId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPWAREHOUSE_ID", nullable=false)
    public long getShopWarehouseId() {
        return shopWarehouseId;
    }

    @Transient public long getId() {
        return this.shopWarehouseId;
    }

    public void setShopWarehouseId(long shopWarehouseId) {
        this.shopWarehouseId = shopWarehouseId;
    }

                ]]>
            </meta>

            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="warehouse" class="org.yes.cart.domain.entity.Warehouse">
                <column name="WAREHOUSE_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.SkuWarehouse" table="TSKUWAREHOUSE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Real quantity of sku at each warehouse</comment>
        <id name="skuWarehouseId" column="SKUWAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.SkuWarehouseEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="extra-import">org.hibernate.search.annotations.*</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[

    private long skuWarehouseId;
    //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SKUWAREHOUSE_ID", nullable=false)
    public long getSkuWarehouseId() {
        return skuWarehouseId;
    }

    @Transient public long getId() {
        return this.skuWarehouseId;
    }

    public void setSkuWarehouseId(long skuWarehouseId) {
        this.skuWarehouseId = skuWarehouseId;
    }

                ]]>
            </meta>

            <many-to-one name="warehouse" class="org.yes.cart.domain.entity.Warehouse">
                <column name="WAREHOUSE_ID" not-null="true"/>
            </many-to-one>

			<many-to-one name="sku" class="org.yes.cart.domain.entity.ProductSku">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>

            <property name="quantity" type="java.math.BigDecimal" not-null="true">
                <column name="QUANTITY" not-null="true">
                    <comment>Current quantity</comment>
                </column>
            </property>

            <property name="reserved" type="java.math.BigDecimal" not-null="false">
                <column name="RESERVED" not-null="false" default="0">
                    <comment>Reserved by payment transaction quantity.</comment>
                </column>
            </property>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.ShopCategory" table="TSHOPCATEGORY" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="shopCategoryId" column="SHOPCATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>

        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopCategoryEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
                            
     private long shopCategoryId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"),   @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPCATEGORY_ID", nullable=false)
    public long getShopCategoryId() {
        return this.shopCategoryId;
    }


    @Transient public long getId() {
        return this.shopCategoryId;
    }

    public void setShopCategoryId(long shopCategoryId) {
        this.shopCategoryId = shopCategoryId;
    }

                ]]>
            </meta>
            <property name="rank" type="int" not-null="false">
                <column name="RANK">
                    <comment>
                        What the default order of assignmet ?
                    </comment>
                </column>
            </property>

            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_SC_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="category" class="org.yes.cart.domain.entity.Category" foreign-key="FK_SC_CAT">
                <column name="CATEGORY_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>


    </class>


    <class name="org.yes.cart.domain.entity.ShopDiscount" table="TSHOPDISCOUNT" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="shopDiscountId" column="SHOPDISCOUNT_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopDiscountEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long shopDiscountId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPDISCOUNT_ID", nullable=false)
    public long getShopDiscountId() {
        return this.shopDiscountId;
    }


    @Transient public long getId() {
        return this.shopDiscountId;
    }

    public void setShopDiscountId(long shopDiscountId) {
        this.shopDiscountId = shopDiscountId;
    }

                ]]>
            </meta>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
            <property name="availabletill" column="AVAILABLETILL" type="timestamp"/>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_SD_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>
            <set name="shopDiscountRules" inverse="false">
                <key column="SHOPDISCOUNT_ID" not-null="true" foreign-key="FK_SDR_SDRULE"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopDiscountRule"/>
            </set>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ShopDiscountRule" table="TSHOPDISCOUNTRULE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="shopDiscountRuleId" column="SHOPDISCOUNTRULE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopDiscountRuleEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long shopDiscountRuleId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPDISCOUNTRULE_ID", nullable=false)
    public long getShopDiscountRuleId() {
        return this.shopDiscountRuleId;
    }


    @Transient public long getId() {
        return this.shopDiscountRuleId;
    }

    public void setShopDiscountRuleId(long shopDiscountRuleId) {
        this.shopDiscountRuleId = shopDiscountRuleId;
    }

                ]]>
            </meta>
            <!--many-to-one name="shopDiscount" class="org.yes.cart.domain.entity.ShopDiscount" foreign-key="FK_SDR_SHOPDISC" update="false" insert="false">
                <column name="SHOPDISCOUNT_ID" not-null="true"/>
            </many-to-one-->
            <property name="rule" column="RULE" type="string" length="4000"/>
            <property name="name" column="NAME" type="string" length="256"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.ShopUrl" table="TSHOPURL" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="storeUrlId" column="STOREURL_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopUrlEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long storeUrlId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="TSTOREURL_ID", nullable=false)
    public long getStoreUrlId() {
        return this.storeUrlId;
    }



    @Transient public long getId() {
        return this.storeUrlId;
    }

    public void setStoreUrlId(long storeUrlId) {
        this.storeUrlId = storeUrlId;
    }

                ]]>
            </meta>
            <property name="url" column="URL" type="string" length="512" not-null="true"/>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_SHOPURL_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ShopExchangeRate" table="TSTOREEXCHANGERATE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="shopexchangerateId" type="long" column="SHOPEXCHANGERATE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopExchangeRateEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long shopexchangerateId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPEXCHANGERATE_ID", nullable=false)
    public long getShopexchangerateId() {
        return this.shopexchangerateId;
    }


    @Transient public long getId() {
        return this.shopexchangerateId;
    }

    public void setShopexchangerateId(long shopexchangerateId) {
        this.shopexchangerateId = shopexchangerateId;
    }

                ]]>
            </meta>
            <property name="fromCurrency" type="string" length="3" not-null="true" column="FROMCURRENCY"/>
            <property name="toCurrency" type="string" length="3" not-null="true" column="TOCURRENCY"/>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_ER_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>
            <property name="rate" type="java.math.BigDecimal" not-null="true" column="RATE"/>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.ShopAdvPlace" table="TSHOPADVPLACE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Adv places in particular shop</comment>
        <id name="shopadvplaceId" column="SHOPADVPLACE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopAdvPlaceEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long shopadvplaceId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="SHOPADVPLACE_ID", nullable=false)
    public long getShopadvplaceId() {
        return this.shopadvplaceId;
    }


    @Transient public long getId() {
        return this.shopadvplaceId;
    }

    public void setShopadvplaceId(long shopadvplaceId) {
        this.shopadvplaceId = shopadvplaceId;
    }

                ]]>
            </meta>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_ADVP_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>
            <set name="shopAdvPlaceRules" inverse="true">
                <key column="SHOPADVPLACE_ID" not-null="true"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.ShopAdvPlaceRule"/>
            </set>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>

    </class>

    <class name="org.yes.cart.domain.entity.ShopAdvPlaceRule" table="TSTOREADVRULES" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Adv rules for show some item in adv place</comment>
        <id name="shopadvrulesId" column="STOREADVRULES_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.ShopAdvPlaceRuleEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long shopadvrulesId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="STOREADVRULES_ID", nullable=false)
    public long getShopadvrulesId() {
        return this.shopadvrulesId;
    }


    @Transient public long getId() {
        return this.shopadvrulesId;
    }

    public void setShopadvrulesId(long shopadvrulesId) {
        this.shopadvrulesId = shopadvrulesId;
    }

                ]]>
            </meta>
            <property name="rank" type="int" not-null="false"/>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
            <property name="availabletill" column="AVAILABLETILL" type="timestamp"/>
            <property name="rule" column="RULE" type="string" length="4000"/>
            <many-to-one name="shopAdvPlace" class="org.yes.cart.domain.entity.ShopAdvPlace" foreign-key="FK_ADVR_ADVPLACE">
                <column name="SHOPADVPLACE_ID" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>



    <!-- ################################## Customer ################################# -->

    <class name="org.yes.cart.domain.entity.Customer" table="TCUSTOMER" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="customerId" column="CUSTOMER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.*</meta>
            <meta attribute="extra-import">java.util.List</meta>
            <meta attribute="extra-import">java.util.ArrayList</meta>
            <meta attribute="extra-import">java.util.Set</meta>
            <meta attribute="extra-import">java.util.HashSet</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="CUSTOMER_ID", nullable=false)
    public long getCustomerId() {
        return this.customerId;
    }


    @Transient public long getId() {
        return this.customerId;
    }

    public void setCustomerId(long customerId) {
        this.customerId = customerId;
    }

    @Transient
    public Set<AttrValueCustomer> getAttributesByCode(final String attributeCode) {
        final Set<AttrValueCustomer> result = new HashSet<AttrValueCustomer>();
        if (this.attribute != null) {
            for (AttrValueCustomer attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    result.add(attrValue);
                }
            }
        }
        if (result.isEmpty()) {
            return null;
        }
        return result;
    }

    @Transient
    public AttrValueCustomer getAttributeByCode(String attributeCode) {
        if (this.attribute != null) {
            for (AttrValueCustomer attrValue : this.attribute) {
                if (attrValue.getAttribute().getCode().equals(attributeCode)) {
                    return attrValue;
                }
            }
        }
        return null;
    }

    @Transient
    public List<Address> getAddresses(final String addressType) {
        final List<Address> rez = new ArrayList<Address>();
        for (Address addr : address) {
            if (addressType.equals(addr.getAddressType())) {
                rez.add(addr);
            }
        }
        return rez;
    }

    @Transient
    public Address getDefaultAddress(final String addressType) {
        for (Address addr : address) {
            if (addressType.equals(addr.getAddressType()) && addr.isDefaultAddress()) {
                return addr;
            }
        }
        return null;
    }


                ]]>
            </meta>
            <property name="email" type="string" column="EMAIL" length="255" unique="true" not-null="true"/>
            <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
            <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
            <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
            <property name="password" length="255" type="java.lang.String" column="PASSWORD" not-null="true"/>

            <bag name="orders" inverse="true">
                <key>
                    <column name="CUSTOMER_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerOrder"/>
            </bag>


            
            <bag name="wishList" inverse="false">
                <key>
                    <column name="CUSTOMER_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerWishList"/>
            </bag>


            <bag name="attribute" inverse="true" lazy="false" cascade="all">
                <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.AttrValueCustomer" />
            </bag>

            <bag name="address" inverse="true" lazy="false" cascade="all" >
                <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.Address"/>
            </bag>

            <bag name="shops" inverse="true" lazy="true" cascade="all" >
                <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerShop"/>
            </bag>


            <!--set name="giftCertificates" inverse="true">
                <key>
                    <column name="CUSTOMER_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.GiftCertificateEntity"/>
            </set-->

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>

    </class>




    <class name="org.yes.cart.domain.entity.CustomerShop" table="TCUSTOMERSHOP" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="customerShopId" column="CUSTOMERSHOP_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerShopEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerShopId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="CUSTOMERWISHLIST_ID", nullable=false)
    public long getCustomerShopId() {
        return this.customerShopId;
    }


    @Transient public long getId() {
        return this.customerShopId;
    }

    public void setCustomerShopId(long customerShopId) {
        this.customerShopId = customerShopId;
    }

                ]]>
            </meta>

            <many-to-one name="customer" class="org.yes.cart.domain.entity.Customer" foreign-key="FK_CS_CUSTOMER">
                <column name="CUSTOMER_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_CS_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>



            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>



    <class name="org.yes.cart.domain.entity.CustomerWishList" table="TCUSTOMERWISHLIST" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="customerwishlistId" column="CUSTOMERWISHLIST_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerWishListEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="extra-import">javax.persistence.Column</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerwishlistId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="CUSTOMERWISHLIST_ID", nullable=false)
    public long getCustomerwishlistId() {
        return this.customerwishlistId;
    }


    @Transient public long getId() {
        return this.customerwishlistId;
    }

    public void setCustomerwishlistId(long customerwishlistId) {
        this.customerwishlistId = customerwishlistId;
    }

                ]]>
            </meta>
            <many-to-one name="skus" class="org.yes.cart.domain.entity.ProductSku" foreign-key="FK_WL_SKU">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>

            <many-to-one name="customer" class="org.yes.cart.domain.entity.Customer" foreign-key="FK_WL_CUSTOMER">
                <column name="CUSTOMER_ID" not-null="true"/>
            </many-to-one>

            <property name="wlType" type="string" length="1">
                <column name="WL_TYPE" default="'W'" length="1">
                    <comment>W-single, A-Available reminder, P-Price reminder, R-In promo reminder</comment>
                </column>
            </property>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>



    <!-- ################################ Order & etc ####################################### -->


    <class name="org.yes.cart.domain.entity.CustomerOrder" table="TCUSTOMERORDER" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <id name="customerorderId" column="CUSTOMERORDER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerOrderEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerorderId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

    @Id @GeneratedValue /*(generator="generator")*/
    @Column(name="CUSTOMERORDER_ID", nullable=false)
    public long getCustomerorderId() {
        return this.customerorderId;
    }


    @Transient public long getId() {
        return this.customerorderId;
    }

    public void setCustomerorderId(long customerorderId) {
        this.customerorderId = customerorderId;
    }

    /** {@inheritDoc} */
    public CustomerOrderDelivery getCustomerOrderDelivery(final String deliveryNumber) {
        if (deliveryNumber != null) {
            for (CustomerOrderDelivery delivery : getDelivery()) {
                if (deliveryNumber.equals(delivery.getDevileryNum())) {
                    return delivery;
                }
            }
        }
        return null;
    }

                ]]>
            </meta>
            <property name="pgLabel" type="string" length="64" not-null="false">
                <column name="PG_LABEL">
                    <comment>Payment gateway label</comment>
                </column>
            </property>
            <property name="ordernum" type="string" length="16" not-null="true">
                <column name="ORDERNUM">
                    <comment>Depends from order num producer.</comment>
                </column>
            </property>
            <property name="cartGuid" column="CART_GUID" type="string" length="36" not-null="true"/>
            <property name="currency" column="CURRENCY" type="string" length="3" not-null="true"/>
            <property name="orderMessage" type="string" length="4000">
                <column name="MESSAGE">
                    <comment>Free text information per each order. Can be whatever</comment>
                </column>
            </property>
            <property name="orderStatus" column="ORDERSTATUS" type="string" length="64" not-null="true"/>
            <many-to-one name="customer" class="org.yes.cart.domain.entity.Customer" foreign-key="FK_ORDER_CUSTOMER" lazy="false">
                <column name="CUSTOMER_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="shop" class="org.yes.cart.domain.entity.Shop" foreign-key="FK_ORDER_SHOP">
                <column name="SHOP_ID" not-null="true"/>
            </many-to-one>

            <bag name="orderDetail" inverse="true" cascade="all" lazy="false">
                <key><column name="CUSTOMERORDER_ID" not-null="true"/></key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerOrderDet"/>
            </bag>

            <bag name="delivery" inverse="true" lazy="false"  cascade="all">
                <key on-delete="cascade" column="CUSTOMERORDER_ID" not-null="true"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerOrderDelivery"/>
            </bag>

            <property name="billingAddress" type="string" not-null="true" length="4000">
                <column name="BILLING_ADDRESS">
                    <comment>Address composed for billing</comment>
                </column>
            </property>

            <property name="shippingAddress" type="string" not-null="true" length="4000">
                <column name="SHIPPING_ADDRESS">
                    <comment>Shipping address</comment>
                </column>
            </property>

            <property name="multipleShipmentOption" type="boolean">
                <column name="MULTIPLE_SHIPMENT" default="0">
                    <comment>Wait for all skus in case of not all available.
                    </comment>
                </column>
            </property>


            <property name="orderTimestamp" column="ORDER_TIMESTAMP" type="timestamp" not-null="true"/>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>


    <class name="org.yes.cart.domain.entity.CustomerOrderDet" table="TCUSTOMERORDERDET" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Orders detail</comment>
        <id name="customerOrderDetId" type="long" column="CUSTOMERORDERDET_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerOrderDetEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerOrderDetId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="CUSTOMERORDERDET_ID", nullable=false)
    public long getCustomerOrderDetId() {
        return this.customerOrderDetId;
    }

    @Transient public long getId() {
        return this.customerOrderDetId;
    }


    public void setCustomerOrderDetId(long customerOrderDetId) {
        this.customerOrderDetId = customerOrderDetId;
    }

    /** {@inheritDoc} */
    public String getProductSkuCode() {
        return this.sku == null?null:this.sku.getCode();
    }
                ]]>
            </meta>
            <property name="qty" column="QTY" type="java.math.BigDecimal" not-null="false"/>
            <property name="price" type="java.math.BigDecimal" not-null="false">
                <column name="PRICE" not-null="true">
                    <comment>Price per one unit
                    </comment>
                </column>
            </property>
            
            <many-to-one name="sku" class="org.yes.cart.domain.entity.ProductSku" foreign-key="FK_ODET_SKU" lazy="false">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="customerOrder" class="org.yes.cart.domain.entity.CustomerOrder" foreign-key="FK_ODET_CUSTORDER">
                <column name="CUSTOMERORDER_ID" not-null="true"/>
            </many-to-one>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <!--  ######################################### deliveries ######################################## -->

    <class name="org.yes.cart.domain.entity.CustomerOrderDelivery" table="TCUSTOMERORDERDELIVERY" discriminator-value="0">
        <!--
                <comment>One order can be splited into several deliveries. Even order with two same skus can be splited into 2
                    deliveries
                </comment>
        -->
        <meta attribute="interface">true</meta>
        <id name="customerOrderDeliveryId" column="CUSTOMERORDERDELIVERY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryEntity" discriminator-value="1">

            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerOrderDeliveryId;


     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="CUSTOMERORDERDELIVERY_ID", nullable=false)
    public long getCustomerOrderDeliveryId() {
        return this.customerOrderDeliveryId;
    }


    @Transient public long getId() {
        return this.customerOrderDeliveryId;
    }

    public void setCustomerOrderDeliveryId(long customerOrderDeliveryId) {
        this.customerOrderDeliveryId = customerOrderDeliveryId;
    }
                ]]>
            </meta>
            <property name="devileryNum" type="string" length="16" not-null="true">
                <column name="DELIVERYNUM">
                    <comment>Order contract in case of splited orders (XXX-1,XXX-2, etc).
                        Delivery contract XXX-2-DDD1,XXX-2-DDD2, XXX-2-DDD3, where XXX order num, DDD delivery num.
                    </comment>
                </column>
            </property>
            <property name="refNo" type="string" length="128">
                <column name="REF_NO">
                    <comment>External ref number
                    </comment>
                </column>
            </property>
            <property name="price" column="PRICE" type="java.math.BigDecimal" not-null="true"/>
            <property name="deliveryStatus" column="DELIVERYSTATUS" type="string" length="64" not-null="true"/>
            <bag name="detail" cascade="all" inverse="true" lazy="false">
                <key column="CUSTOMERORDERDELIVERY_ID" not-null="true" foreign-key="FK_CODD_CDELIVERY"/>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CustomerOrderDeliveryDet"/>
            </bag>
            <many-to-one name="carrierSla" class="org.yes.cart.domain.entity.CarrierSla" foreign-key="FK_OD_CSLA" lazy="false">
                <column name="CARRIERSLA_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="customerOrder" class="org.yes.cart.domain.entity.CustomerOrder" foreign-key="FK_OD_ORD">
                <column name="CUSTOMERORDER_ID" not-null="true"/>
            </many-to-one>
            <property name="deliveryGroup" type="string" not-null="true">
                <column name="DELIVERY_GROUP" length="16" not-null="true"/>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.CustomerOrderDeliveryDet" table="TCUSTOMERORDERDELIVERYDET" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Delivery details</comment>
        <id name="customerorderdeliveryId" column="CUSTOMERORDERDELIVERYDET_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryDetEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long customerorderdeliveryId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
    @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="CUSTOMERORDERDELIVERYDET_ID", nullable=false)
    public long getCustomerorderdeliveryId() {
        return this.customerorderdeliveryId;
    }


    @Transient public long getId() {
        return this.customerorderdeliveryId;
    }

    public void setCustomerorderdeliveryId(long customerorderdeliveryId) {
        this.customerorderdeliveryId = customerorderdeliveryId;
    }

    /** {@inheritDoc} */
    public String getProductSkuCode() {
        return this.sku == null?null:this.sku.getCode();
    }

                ]]>
            </meta>
            <property name="qty" type="java.math.BigDecimal" not-null="true">
                <column name="QTY" not-null="true">
                    <comment>Quantity of SKU in this praticular delivery
                    </comment>
                </column>
            </property>
            <property name="price" column="PRICE" type="java.math.BigDecimal" not-null="true"/>
            <many-to-one name="sku" class="org.yes.cart.domain.entity.ProductSku" foreign-key="FK_CODD_SKU" lazy="false">
                <column name="SKU_ID" not-null="true"/>
            </many-to-one>
            <many-to-one name="delivery" class="org.yes.cart.domain.entity.CustomerOrderDelivery" foreign-key="FK_CODD_DL">
                <column name="CUSTOMERORDERDELIVERY_ID" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <!-- ######################### carriers & shipment SLA ####################### -->
    <class name="org.yes.cart.domain.entity.Carrier" table="TCARRIER" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Shipment</comment>
        <id name="carrierId" column="CARRIER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CarrierEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long carrierId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="CARRIER_ID", nullable=false)
    public long getCarrierId() {
        return this.carrierId;
    }


    @Transient public long getId() {
        return this.carrierId;
    }

    public void setCarrierId(long carrierId) {
        this.carrierId = carrierId;
    }
                ]]>
            </meta>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>

            <property name="worldwide" type="boolean" column="WORLDWIDE" length="1"  not-null="false"/>
            <property name="country"   type="boolean" column="COUNTRY"   length="1"  not-null="false"/>
            <property name="state"     type="boolean" column="STATE"     length="1"  not-null="false"/>
            <property name="local"     type="boolean" column="LOCAL"     length="1"  not-null="false"/>
            
            <bag name="carrierSla" inverse="true" lazy="false">
                <key>
                    <column name="CARRIER_ID" not-null="true"/>
                </key>
                <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.CarrierSla"/>
            </bag>


            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <class name="org.yes.cart.domain.entity.CarrierSla" table="TCARRIERSLA" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Shipment service layer agreement. Days, distances , etc.</comment>
        <id name="carrierslaId" column="CARRIERSLA_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.CarrierSlaEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long carrierslaId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})

     @Id @GeneratedValue /*(generator="generator")*/ 
    @Column(name="CARRIERSLA_ID", nullable=false)
    public long getCarrierslaId() {
        return this.carrierslaId;
    }


    @Transient public long getId() {
        return this.carrierslaId;
    }

    public void setCarrierslaId(long carrierslaId) {
        this.carrierslaId = carrierslaId;
    }
                ]]>
            </meta>
            <property name="name" column="NAME" type="string" length="256" not-null="true"/>
            <property name="description" column="DESCRIPTION" type="string" length="4000"/>
            <property name="currency" column="CURRENCY" type="string" length="3" not-null="true"/>
            <property name="maxDays" column="MAX_DAYS" type="java.lang.Integer"/>

            <property name="slaType"  column="SLA_TYPE" type="string" length="1" not-null="true"/>
            <property name="price"    column="PRICE"    type="java.math.BigDecimal"/>
            <property name="percent"  column="PER_CENT" type="java.math.BigDecimal"/>
            <property name="script"   column="SCRIPT"   type="string" length="4000"/>


            <property name="priceNotLess"    column="PRICE_NOTLESS"   type="java.math.BigDecimal"/>
            <property name="percentNotLess"  column="PERCENT_NOTLESS" type="java.math.BigDecimal"/>
            <property name="costNotLess"     column="COST_NOTLESS"    type="java.math.BigDecimal"/>


            

            <many-to-one name="carrier" class="org.yes.cart.domain.entity.Carrier" foreign-key="FK_CSLA_CARR">
                <column name="CARRIER_ID" not-null="true"/>
            </many-to-one>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>
    </class>

    <!--     ########################################### SEO ################################# -->

    <class name="org.yes.cart.domain.entity.SeoImage" table="TSEOIMAGE" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Search optimizations on images.</comment>
        <id name="seoImageId" type="long" column="SEOIMAGE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.SeoImageEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long seoImageId;
     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/ 
     @Column(name="SEOIMAGE_ID", nullable=false)
     public long getSeoImageId() {
        return this.seoImageId;
     }


    @Transient public long getId() {
        return this.seoImageId;
    }

     public void setSeoImageId(long seoImageId) {
        this.seoImageId = seoImageId;
     }
                ]]>
            </meta>
            <property name="imageName" type="string" length="256" not-null="false">
                <column name="IMAGE_NAME" length="256"/>
            </property>
            <property name="alt" type="string" length="256" not-null="false">
                <column name="ALT" length="256"/>
            </property>
            <property name="title" type="string" length="256" not-null="false">
                <column name="TITLE" length="256"/>
            </property>

            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>

        </subclass>

    </class>


    <class name="org.yes.cart.domain.entity.Seo" table="TSEO" discriminator-value="0">
        <meta attribute="interface">true</meta>
        <comment>Search optimizations. See SEO chectsheet for details</comment>
        <id name="seoId" type="long" column="SEO_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <discriminator type="integer" formula="1"/>
        <subclass name="org.yes.cart.domain.entity.impl.SeoEntity" discriminator-value="1">
            <meta attribute="extra-import">org.hibernate.annotations.Parameter</meta>
            <meta attribute="extra-import">org.hibernate.annotations.GenericGenerator</meta>
            <meta attribute="extra-import">javax.persistence.Id</meta>
            <meta attribute="extra-import">javax.persistence.GeneratedValue</meta>
            <meta attribute="extra-import">javax.persistence.Transient</meta>
            <meta attribute="interface">false</meta>
            <meta attribute="class-code">
                <![CDATA[
     private long seoId;

     //@GenericGenerator(name="generator", strategy="native", parameters={@Parameter(name="column", value="value"), @Parameter(name="table", value="HIBERNATE_UNIQUE_KEYS")})
     @Id @GeneratedValue /*(generator="generator")*/ 

    @Column(name="SEO_ID", nullable=false)
    public long getSeoId() {
        return this.seoId;
    }


    @Transient public long getId() {
        return this.seoId;
    }

    public void setSeoId(long seoId) {
        this.seoId = seoId;
    }
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;

        SeoEntity seoEntity = (SeoEntity) o;

        if (seoId != seoEntity.seoId) return false;

        return true;
    }

    @Override
    public int hashCode() {
        return (int) (seoId ^ (seoId >>> 32));
    }
    
                ]]>
            </meta>
            <property name="uri" type="string" column="URI" length="256" not-null="false"/>
            <property name="title" type="string" column="TITLE" length="256" not-null="false"/>
            <property name="metakeywords" type="string" column="METAKEYWORDS" length="256" not-null="false"/>
            <property name="metadescription" type="string" column="METADESCRIPTION" length="256" not-null="false"/>
            <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
            <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
            <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
			<property name="guid" column="GUID" type="string" length="36" not-null="false"/>
            
        </subclass>
    </class>

    <query name="SHOP.BY.URL">
        <![CDATA[
       select o.shop from ShopUrlEntity o where o.url = ?1
       ]]>
    </query>

    <query name="SHOP.BY.ORDER.GUID">
        <![CDATA[
       select co.shop from CustomerOrderEntity co where co.cartGuid  = ?1
       ]]>
    </query>

    <query name="SHOP.BY.ORDER.NUM">
        <![CDATA[
       select co.shop from CustomerOrderEntity co where co.ordernum  = ?1
       ]]>
    </query>

    <query name="TOPCATEGORIES.BY.SHOPID">
        <![CDATA[
       select c from CategoryEntity c, ShopCategoryEntity sc
       where c.categoryId = sc.category.categoryId and sc.shop.shopId = ?1
       and (c.availablefrom < ?2 OR c.availablefrom IS NULL)
       and (c.availabletill > ?2 OR c.availabletill IS NULL)
       order by sc.rank
       ]]>
    </query>

    <query name="ALL.TOPCATEGORIES.BY.SHOPID">
        <![CDATA[
       select c from CategoryEntity c, ShopCategoryEntity sc
       where c.categoryId = sc.category.categoryId and sc.shop.shopId = ?1
       order by sc.rank
       ]]>
    </query>

    <query name="ROOTCATEORY">
        <![CDATA[
       select c from CategoryEntity c WHERE c.categoryId = c.parentId 
       ]]>
    </query>

    <query name="CATEGORIES.BY.PARENTID">
        <![CDATA[
       select c from CategoryEntity c where c.parentId = ?1
       and c.categoryId <> c.parentId 
       and (c.availablefrom < ?2 OR c.availablefrom IS NULL)
       and (c.availabletill > ?2 OR c.availabletill IS NULL)
       order by c.rank 
       ]]>
    </query>

    <query name="CATEGORIES.BY.PRODUCTID">
        <![CDATA[
       select c from CategoryEntity c, ProductCategoryEntity pc
       where c.categoryId = pc.category.categoryId
       and pc.product.productId =?1
       order by c.rank
       ]]>
    </query>

    <query name="CATEGORIES.BY.PARENTID.WITHOUT.DATE.FILTERING">
        <![CDATA[
       select c from CategoryEntity c where c.parentId = ?1
       and c.categoryId <> c.parentId
       order by c.rank
       ]]>
    </query>

    <query name="PRODUCTS.BY.CATEGORYID">
        <![CDATA[
       select p from ProductEntity p, ProductCategoryEntity pc
            where p.productId = pc.product.productId
            and pc.category.categoryId = ?1
            and (p.availablefrom < ?2 OR p.availablefrom IS NULL)
            and (p.availabletill > ?2 OR p.availabletill IS NULL)
            order by pc.rank
       ]]>
    </query>

    <query name="PRODUCTS.QTY.BY.CATEGORYID">
        <![CDATA[
       select count(p) from ProductEntity p, ProductCategoryEntity pc
            where p.productId = pc.product.productId
            and pc.category.categoryId = ?1
            and (p.availablefrom < ?2 OR p.availablefrom IS NULL)
            and (p.availabletill > ?2 OR p.availabletill IS NULL)
       ]]>
    </query>

    <query name="ORDERS.COUNT">
        <![CDATA[
       select count(p) from CustomerOrderEntity p
       ]]>
    </query>


    <query name="ORDERS.BY.CRITERIA">
        <![CDATA[
       select p from CustomerOrderEntity p
       where (p.customer.firstname like ?1 or ?1 is null)
       and (p.customer.lastname like ?2 or ?2 is null)
       and (p.customer.email like ?3 or ?3 is null)
       and (p.orderStatus = ?4 or ?4 is null)
       and (p.orderTimestamp > ?5 or ?5 is null)
       and (p.orderTimestamp < ?6 or ?6 is null)
       and (p.ordernum like ?7 or ?7 is null)
       ]]>
    </query>

    <query name="PRODUCTS.ATTRIBUTE.VALUES.BY.CODE.PRODUCTTYPEID">
        <![CDATA[
       select distinct a.val
       from   ProductEntity p inner join p.attribute a
            where p.producttype.producttypeId = ?1
            and a.attribute.code = ?2
       ]]>
    </query>

    <query name="PRODUCT.TYPE.ATTR.BY.PROD.TYPE.ID">
          <![CDATA[
       select pta
       from  ProductTypeAttrEntity pta
            where pta.producttype.producttypeId = ?1
            order by pta.attribute.code
       ]]>
    </query>


    <query name="PRODUCTS.ATTR.CODE.VALUES.BY.PRODUCTTYPEID">
        <![CDATA[
       select a.attribute.name, a.attribute.code, a.val, 0, pta.rank
       from  ProductTypeEntity pt, ProductTypeAttrEntity pta, ProductEntity p inner join p.attribute a
            where p.producttype.producttypeId = pt.producttypeId
            and pt.producttypeId = pta.producttype.producttypeId
            and pta.producttype.producttypeId = ?1
            and pta.attribute.code = a.attribute.code
            and pta.navigationType = 'S'
            group by a.attribute.name, a.attribute.code, a.val, pta.rank 
            order by pta.rank, a.attribute.name, a.val
       ]]>
    </query>

    <query name="PRODUCTS.ATTR.CODE.VALUES.BY.ASSIGNED.CATEGORIES">
        <![CDATA[
       select distinct b.name, b.name, b.name, 0
       from ProductCategoryEntity pc, ProductEntity p inner join p.brand b
       where p.productId = pc.product.productId 
        and pc.category.categoryId in (:list)
        order by b.name
       ]]>
    </query>

    <query name="ATTRIBUTE.CODES.UNIQUE">
        <![CDATA[
       select distinct a.code from AttributeEntity a
       ]]>
    </query>



    <query name="ATTRIBUTE.BY.CODE">
        <![CDATA[
       select a from AttributeEntity a where a.code = ?1
       ]]>
    </query>

    <query name="ATTRIBUTES.BY.GROUPCODE">
        <![CDATA[
       select a from AttributeEntity a where a.attributeGroup.code = ?1 order by a.code
       ]]>
    </query>

    <query name="ATTRIBUTES.WITH.MULTIPLE.VALUES.BY.GROUPCODE">
        <![CDATA[
       select a from AttributeEntity a where a.allowduplicate = true and a.attributeGroup.code = ?1
       ]]>
    </query>

    <query name="ATTRIBUTES.BY.GROUPCODE.NOT.IN.LIST">
        <![CDATA[
       select a from AttributeEntity a where a.attributeGroup.code = ?1 and a.code not in (:list)
       ]]>
    </query>


    <query name="ATTRIBUTE.CODE.NAMES">
        <![CDATA[
       select distinct a.code, a.name
       from AttributeEntity a
       where a.code in (:list)
       ]]>
    </query>

    <query name="PRODUCT.ASSOCIATIONS">
        <![CDATA[
       select a
       from ProductAssociationEntity a
       where a.product.productId = ?1
       order by a.rank
       ]]>
    </query>

    <query name="PRODUCT.ASSOCIATIONS.BY.TYPE">
        <![CDATA[
       select a
       from ProductAssociationEntity a
       where a.product.productId = ?1
        and a.association.code = ?2
       order by a.rank
       ]]>
    </query>

    <query name="PRODUCT.BY.CODE">
        <![CDATA[
       select a
       from ProductEntity a
       where a.code = ?1
       ]]>
    </query>


    <query name="PRODUCT.SKU.BY.CODE">
        <![CDATA[
       select a
       from ProductSkuEntity a
       where a.code = ?1
       ]]>
    </query>

    <query name="PRODUCT.BY.SKU.CODE">
        <![CDATA[
       select a.product
       from ProductSkuEntity a
       where a.code = ?1
       ]]>
    </query>

    <query name="PRODUCT.FEATURED">
        <![CDATA[
       select a
       from ProductEntity a, ProductCategoryEntity pc
       where a.featured = true
       and (a.availablefrom < ?1 OR a.availablefrom IS NULL)
       and (a.availabletill > ?1 OR a.availabletill IS NULL)
       and a.productId = pc.product.productId
       and pc.category.categoryId in (:list)
       ]]>
    </query>

    <query name="CATEGORY.BY.SEO.URI">
        <![CDATA[
                  select c from CategoryEntity c  where c.seo.uri = ?1
       ]]>
    </query>

    <query name="PRODUCT.BY.SEO.URI">
        <![CDATA[
                 select p from ProductEntity p   where p.seo.uri = ?1
        ]]>
    </query>

    <query name="SKU.BY.SEO.URI">
        <![CDATA[
                 select ps from ProductSkuEntity ps   where ps.seo.uri = ?1
        ]]>
    </query>


    <query name="BRAND.BY.NAME">
        <![CDATA[
                 select b from BrandEntity b  where b.name =?1
        ]]>
    </query>

    <query name="SKU.QTY.BY.PRODUCT">
        <![CDATA[
                 select sum(s.quantity) from SkuWarehouseEntity s  where s.sku.product = ?1
        ]]>
    </query>

    <query name="SKU.QTY.BY.PRODUCT.SHOP">
        <![CDATA[
                 select sum(s.quantity) from SkuWarehouseEntity s, ShopWarehouse sw
                 where s.warehouse = sw.warehouse
                 and   s.sku.product = ?1
                 and   sw.shop = ?2
        ]]>
    </query>

    <query name="ASSIGNED.ROLES.BY.USER.EMAIL">
        <![CDATA[
            select r from RoleEntity r, ManagerRoleEntity mr
             where r.code = mr.code
             and mr.email = ?1
             order by r.code
        ]]>
    </query>

    <query name="AVAILABLE.ROLES.BY.USER.EMAIL">
        <![CDATA[
            select r from RoleEntity r
             where r.code not in (
                select mr.code from ManagerRoleEntity mr where mr.email = ?1
                )
             order by r.code
        ]]>
    </query>

    <query name="GET.MAX.RANK">
        <![CDATA[
            select max(pc.rank) from ProductCategoryEntity pc
             where pc.category.categoryId = ?1
        ]]>
    </query>

    <query name="ASSIGNED.WAREHOUSES.TO.SHOP">
        <![CDATA[
            select w from WarehouseEntity w, ShopWarehouseEntity sw
             where w.warehouseId = sw.warehouse.warehouseId
             and sw.shop.id = ?1
        ]]>
    </query>

    <query name="ASSIGNED.SHOPWAREHOUSE">
        <![CDATA[
            select sw from ShopWarehouseEntity sw
             where sw.warehouse.warehouseId = ?1
             and sw.shop.id = ?2
        ]]>
    </query>

    <query name="SHOP.CATEGORY">
        <![CDATA[
            select sc from ShopCategoryEntity sc
             where sc.category.categoryId = ?1
             and sc.shop.id = ?2
        ]]>
    </query>

    <query name="SKUS.ON.WAREHOUSE">
        <![CDATA[
            select sw from SkuWarehouseEntity sw
            where sw.sku.product.productId = ?1
             and sw.warehouse.warehouseId = ?2
             order by sw.warehouse.warehouseId, sw.sku.code
        ]]>
    </query>

    <query name="SKU.QTY.ON.WAREHOUSES">
        <![CDATA[
            select sum(sw.quantity ), sum(sw.reserved)
            from SkuWarehouseEntity sw
            where sw.warehouse.warehouseId IN (:list)
            and sw.sku.code = ?1
        ]]>
    </query>

    <query name="PRODUCT.CODE.BY.IMAGE.NAME">
        <![CDATA[
            select a.product.code from AttrValueEntityProduct a
            where a.val = ?1
        ]]>
    </query>

    <query name="SKU.CODE.BY.IMAGE.NAME">
        <![CDATA[
            select a.productSku.code from AttrValueEntityProductSku a
            where a.val = ?1
        ]]>
    </query>

    <query name="ADDRESSES.BY.CUSTOMER">
        <![CDATA[
            select a from AddressEntity a
                where a.customer.customerId = ?1
        ]]>
    </query>

    <query name="ADDRESSES.BY.CUSTOMER.TYPE">
        <![CDATA[
            select a from AddressEntity a
                where a.customer.customerId = ?1
                and a.addressType = ?2
        ]]>
    </query>

    <query name="ADDRESSES.RESET.DEFALT">
        <![CDATA[
            update AddressEntity a set a.defaultAddress = false
                where a.customer.customerId = ?1
                and a.addressType = ?2
        ]]>
    </query>





    <query name="WISHLIST.BY.CUSTOMER">
        <![CDATA[
            select a from CustomerWishListEntity a
                where a.customer.customerId = ?1
        ]]>
    </query>

    <query name="CARRIER.SLA.BY.CARRIER">
        <![CDATA[
            select a from CarrierSla a
                where a.carrier.carrierId = ?1
        ]]>
    </query>


</hibernate-mapping>