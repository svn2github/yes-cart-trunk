<?xml version="1.0"?>
<!--
  ~ Copyright 2009 Igor Azarnyi, Denys Pavlov
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <class name="org.yes.cart.domain.entity.impl.ManagerEntity" table="TMANAGER">
        <comment>YUM managers</comment>
        <id name="managerId" type="long">
            <column name="MANAGER_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="email" length="255" type="java.lang.String" column="EMAIL" unique-key="MANAGER_EMAIL" not-null="true"/>
        <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
        <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
        <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
        <property name="password" length="255" type="java.lang.String" column="PASSWORD" not-null="true"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="MANAGER_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.RoleEntity" table="TROLE">
        <comment>YUM roles list</comment>
        <id name="roleId" type="long">
            <column name="ROLE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" length="255" type="java.lang.String" column="CODE" unique-key="ROLE_CODE" not-null="true"/>
        <property name="description" length="255" type="java.lang.String" column="DESCRIPTION"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="ROLE_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.ManagerRoleEntity" table="TMANAGERROLE">
        <comment>YUM manager roles list</comment>
        <id name="managerRoleId" type="long">
            <column name="MANAGERROLE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="email" length="255" type="java.lang.String" column="EMAIL"  not-null="true"/>
        <property name="code" length="255" type="java.lang.String" column="CODE"  not-null="true"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="MANAGER_ROLE_GUID" not-null="true"/>
    </class>
	    

    <!--
    Warnings:
    1. Do not use table comments more that 60 chars, because of MySql limitation
    2. Token UNCOMMENT filed & class descriptions will be removed comment , so /** this text became code */      
    -->

    <!-- ################################ Types, attributes ######################################### -->


    <class name="org.yes.cart.domain.entity.impl.EtypeEntity" table="TETYPE">
        <comment>Types, that will be used in system.</comment>
        <id name="etypeId" type="long" column="ETYPE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="javatype" type="string" not-null="true">
            <column name="JAVATYPE" length="255" not-null="true">
                <comment>Shows the java type</comment>
            </column>
        </property>
        <property name="businesstype" type="string" not-null="false">
            <column name="BUSINESSTYPE" length="255" not-null="false">
                <comment>Used mosty on UI. How to represent product, category, attributes, etc</comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="ETYPE_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.AttributeGroupEntity" table="TATTRIBUTEGROUP">
        <comment>Group attributes: prod,sku,cat,shop,customer,brand etc.</comment>
        <id name="attributegroupId" type="long">
            <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" not-null="true"/>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>
        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>
        <set name="attributes" inverse="true" lazy="false">
            <key>
                <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttributeEntity"/>
        </set>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="ATTRIBUTE_GROUP_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.AttributeEntity" table="TATTRIBUTE">
        <comment>Particular attribute</comment>
        <id name="attributeId" type="long">
            <column name="ATTRIBUTE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" index="ATTRIBUTE_CODE" not-null="true"/>

        <property name="mandatory" length="1" type="boolean" not-null="true">
            <column name="MANDATORY" length="1" not-null="true">
                <comment>Attribute must have the default value if mandatory flag is true</comment>
            </column>
        </property>
        <property name="allowduplicate" length="1" type="boolean" not-null="true">
            <column name="ALLOWDUPLICATE" length="1" not-null="true" default="0">
                <comment>Allow to duplicate attr values. Example color - red and black</comment>
            </column>
        </property>
        <property name="allowfailover" length="1" type="boolean" not-null="true">
            <column name="ALLOWFAILOVER" length="1" not-null="true" default="0">
                <comment>Allow search attribute value in parent object</comment>
            </column>
        </property>
        <property name="val" type="string" length="4000">
            <column name="VAL" length="4000">
                <comment>Default value , shall be force inserted for new attributes, if attribute is mandaroty
                </comment>
            </column>
        </property>
        <property name="regexp" type="string" length="4000">
            <column name="REXP" length="4000">
                <comment>Regular expression to validate user input on UI.
                </comment>
            </column>
        </property>
        <property name="validationFailedMessage" type="string" length="4000">
            <column name="V_FAILED_MSG" length="4000">
                <comment>Message if type, mandatory or re validation failed</comment>
            </column>
        </property>
        <property name="rank" type="int" not-null="true">
            <column name="RANK" default="500">
                <comment>What order in dynamic form on UI</comment>
            </column>
        </property>
        <property name="choiceData" type="string" length="4000">
            <column name="CHOICES" length="4000">
                <comment>Comma separated list of [key-]value. Or service url.</comment>
            </column>
        </property>

        <property name="name" column="NAME" not-null="true" type="string" length="255"/>
        <property name="displayName" column="DISPLAYNAME" type="string" length="4000"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <many-to-one name="etype" class="org.yes.cart.domain.entity.impl.EtypeEntity" foreign-key="FK_ATTRIBUTE_ETYPE" lazy="proxy">
            <column name="ETYPE_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="attributeGroup" class="org.yes.cart.domain.entity.impl.AttributeGroupEntity"
                     foreign-key="FK_ATTRIBUTE_ATTRIBUTEGROUP" lazy="proxy">
            <column name="ATTRIBUTEGROUP_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="ATTRIBUTE_GUID" not-null="true"/>

    </class>



    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityCustomer" table="TCUSTOMERATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="customer" class="org.yes.cart.domain.entity.impl.CustomerEntity"  not-null="true" column="CUSTOMER_ID"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false" foreign-key="FK_C_ATTRIBUTE"
                     property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AV_CUSTOMER_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityShop" table="TSHOPATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity"  not-null="true" column="SHOP_ID"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false"
                     foreign-key="FK_SHOP_ATTRIBUTE" property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AVSHOP_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.AttrValueEntitySystem" table="TSYSTEMATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false"
                     foreign-key="FK_SYS_ATTRIBUTE" property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>
        <many-to-one name="system" class="org.yes.cart.domain.entity.impl.SystemEntity"  not-null="true" column="SYSTEM_ID"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36"  unique-key="AVSYS_GUID" not-null="true"/>

    </class>




    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityBrand" table="TBRANDATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="brand" class="org.yes.cart.domain.entity.impl.BrandEntity"  not-null="true" column="BRAND_ID"/>
        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false"
                     property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AVBRAND_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityProduct" table="TPRODUCTATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" lazy="proxy" not-null="true" column="PRODUCT_ID"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false" foreign-key="FK_P_ATTRIBUTE"
                     property-ref="code" insert="true" update="true" fetch="join">
            <column name="CODE" not-null="true"/>
        </many-to-one>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AVPROD_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityProductSku" table="TPRODUCTSKUATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="productSku" class="org.yes.cart.domain.entity.impl.ProductSkuEntity"  not-null="true" column="SKU_ID"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false" foreign-key="FK_S_ATTRIBUTE"
                     property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AVSKU_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.AttrValueEntityCategory" table="TCATEGORYATTRVALUE">
        <id name="attrvalueId" type="long">
            <column name="ATTRVALUE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="val" column="VAL" type="string" length="4000"/>
        <property name="displayVal" column="DISPLAYVAL" type="string" length="4000"/>
        <many-to-one name="category" class="org.yes.cart.domain.entity.impl.CategoryEntity"  not-null="true" column="CATEGORY_ID"/>
        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false"
                     foreign-key="FK_CAT_ATTRIBUTE" property-ref="code" insert="true" update="true">
            <column name="CODE" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="AVCATEGORY_GUID" not-null="true"/>

    </class>




    <!-- ############################## common part #################################### -->


    <class name="org.yes.cart.domain.entity.impl.CountryEntity" table="TCOUNTRY">
        <comment>List of supported countries.</comment>
        <id name="countryId" type="long">
            <column name="COUNTRY_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="countryCode" type="string" length="2">
            <column name="COUNTRY_CODE" length="2" not-null="true"/>
        </property>
        <property name="isoCode" type="string" length="3">
            <column name="ISO_CODE" length="3" not-null="true"/>
        </property>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="COUNTRY_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.StateEntity" table="TSTATE">
        <comment>List of supported states.</comment>
        <id name="stateId" type="long">
            <column name="STATE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="countryCode" type="string" length="2">
            <column name="COUNTRY_CODE" length="2" not-null="true"/>
        </property>
        <property name="stateCode" type="string" length="16">
            <column name="STATE_CODE" length="64" not-null="true"/>
        </property>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="STATE_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.AddressEntity" table="TADDRESS">
        <comment>Locations have the same address struct in the same region</comment>

        <id name="addressId" type="long">
            <column name="ADDRESS_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="city" type="string" column="CITY" length="128" not-null="true"/>
        <property name="postcode" type="string" column="POSTCODE" length="16" not-null="false"/>
        <property name="addrline1" type="string" column="ADDRLINE1" length="255" not-null="true"/>
        <property name="addrline2" type="string" column="ADDRLINE2" length="255" not-null="false"/>
        <property name="addressType" type="string"  not-null="true">
            <column name="ADDRESS_TYPE"  length="1" not-null="true"/>  <!-- S shipping B billing -->
        </property>

        <property name="countryCode" type="string" column="COUNTRY_CODE" length="64" not-null="true"/>
        <property name="stateCode" type="string" column="STATE_CODE" length="64" not-null="false"/>
        <property name="phoneList" type="string" column="PHONES" length="255" not-null="false"/>

        <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
        <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
        <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
        <property name="defaultAddress" type="boolean" column="DEFAULT_ADDR" length="1"  not-null="false"/>

        <many-to-one name="customer" class="org.yes.cart.domain.entity.impl.CustomerEntity"  not-null="true" column="CUSTOMER_ID"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="ADDRESS_GUID" not-null="true"/>

    </class>



    <class name="org.yes.cart.domain.entity.impl.MailtemplategroupEntity" table="TMAILTEMPLATEGROUP">
        <id name="mailtemplategroupId" type="long">
            <column name="MAILTEMPLATEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>
        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="MAILTEMPLATEGROUP_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.MailtemplateEntity" table="TMAILTEMPLATE">
        <id name="mailtemplateId" type="long">
            <column name="MAILTEMPLATE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" not-null="true"/>
        <property name="fspointer" type="string" length="4000">
            <column name="FSPOINTER" length="4000" not-null="true">
                <comment>Absolute path to folder with html template files and images.</comment>
            </column>
        </property>
        <property name="name" type="string" length="255">
            <column name="NAME" length="255" not-null="true"/>
        </property>
        <property name="description" type="string" length="4000">
            <column name="DESCRIPTION"/>
        </property>
        <many-to-one name="mailTemplateGroup" class="org.yes.cart.domain.entity.impl.MailtemplategroupEntity"
                     foreign-key="FK_M_TEMPLATEGROUP">
            <column name="MAILTEMPLATEGROUP_ID" not-null="true"/>
        </many-to-one>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="MAILTEMPLATE_GUID" not-null="true"/>

    </class>

    <!-- ########################################## #############################################################-->

    <class name="org.yes.cart.domain.entity.impl.SystemEntity" table="TSYSTEM">
        <id name="systemId" column="SYSTEM_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" not-null="true"/>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>
        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>

        <map name="attributes" inverse="true" lazy="false" cascade="all">
            <key column="SYSTEM_ID" not-null="true" foreign-key="FK_ATTR_SYS"/>
            <map-key type="string" column="CODE"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntitySystem"/>
        </map>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SYSTEM_GUID" not-null="true"/>
    </class>


    
    <!-- ################################ Categories and Products ###################################### -->

    <class name="org.yes.cart.domain.entity.impl.ProductTypeAttrEntity" table="TPRODUCTTYPEATTR">
        <id name="productTypeAttrId" type="long">
            <column name="PRODTYPEATTR_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="attribute" class="org.yes.cart.domain.entity.impl.AttributeEntity" lazy="false" foreign-key="FK_PTA_ATTR"
                     property-ref="code" insert="true" update="true" cascade="save-update">
            <column name="CODE" not-null="true"/>
        </many-to-one>
        <many-to-one name="producttype" class="org.yes.cart.domain.entity.impl.ProductTypeEntity" foreign-key="FK_PTA_PRODTYPE"
                     cascade="save-update" insert="true" update="true">
            <column name="PRODUCTTYPE_ID" not-null="true"/>
        </many-to-one>
        <property name="rank" type="int" not-null="true">
            <column name="RANK" default="500">
                <comment>What order for filtered navigation</comment>
            </column>
        </property>
        <property name="visible" type="boolean">
            <column name="VISIBLE">
                <comment>Is attribute visible on storefront</comment>
            </column>
        </property>
        <property name="similarity" type="boolean">
            <column name="SIMILARITY">
                <comment>Is attribute will be used for calculate products similarity</comment>
            </column>
        </property>

        <property name="navigation" type="boolean">
            <column name="NAV">
                <comment>Will be used in filtered navigation</comment>
            </column>
        </property>
        <property name="navigationType" type="string" length="1">
            <column name="NAV_TYPE" default="'S'" length="1">
                <comment>S - single, R- range</comment>
            </column>
        </property>
        <property name="rangeNavigation" type="string" length="4000">
            <column name="RANGE_NAV" length="4000">
                <comment>In case of range navigation hold the ranges values</comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODTYPEATTR_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ProductTypeEntity" table="TPRODUCTTYPE">
        <comment>Product type.</comment>
        <id name="producttypeId" type="java.lang.Long">
            <column name="PRODUCTTYPE_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" type="string" length="255" not-null="true">
            <column name="NAME"/>
        </property>
        <property name="description" type="string" length="4000">
            <column name="DESCRIPTION"/>
        </property>

        <bag name="attributeViewGroup" inverse="false" lazy="true" cascade="all" order-by="RANK">
            <key>
                <column name="PRODUCTTYPE_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProdTypeAttributeViewGroupEntity"/>
        </bag>

        <bag name="attributes" inverse="true" lazy="true" cascade="all">
            <key not-null="true" on-delete="cascade" column="PRODUCTTYPE_ID"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductTypeAttrEntity" />
        </bag>


        <property name="uitemplate" type="string" length="255">
            <column name="UITEMPLATE">
                <comment>What UI template will be used for show particular type of product.
                </comment>
            </column>
        </property>
        <property name="uisearchtemplate" type="string" length="255">
            <column name="UISEARCHTEMPLATE">
                <comment>UI template label for search on category, if category has a default product type.
                </comment>
            </column>
        </property>
        <property name="service" type="boolean">
            <column name="SERVICE">
                <comment>shall we treat this like service ? It mean no inventory will be check
                </comment>
            </column>
        </property>
        <property name="ensemble" type="boolean">
            <column name="ENSEMBLE">
                <comment>is this a bundle of products ?
                </comment>
            </column>
        </property>
        <property name="shippable" type="boolean">
            <column name="SHIPPABLE">
                <comment>is this a physical product ? must have weight and sizes in attributes if yes
                </comment>
            </column>
        </property>
        <property name="digital" type="boolean">
            <column name="DIGITAL" default="0">
                <comment>is this the digital product ?
                </comment>
            </column>
        </property>
        <property name="downloadable" type="boolean">
            <column name="DOWNLOADABLE"  default="0">
                <comment>is digital product can be downloaded?
                </comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODTYPE_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ProdTypeAttributeViewGroupEntity" table="TPRODTYPEATTRVIEWGROUP">
        <comment>Attrib view group. Example: optic system, sizes, etc.</comment>
        <id name="prodTypeAttributeViewGroupId" type="long">
            <column name="PRODTYPEATTRIBUTEGROUP_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="producttype" class="org.yes.cart.domain.entity.impl.ProductTypeEntity">
            <column name="PRODUCTTYPE_ID" not-null="true"/>
        </many-to-one>
        <property name="attrCodeList" length="4000" type="string">
            <column name="ATTRCODELIST" length="4000"/>
        </property>
        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    What the default order of attribute group for prod type ?
                </comment>
            </column>
        </property>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>

        <property name="displayName" type="string" length="4000">
            <column name="DISPLAYNAME"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODTYPEATTRGROUP_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.CategoryEntity" table="TCATEGORY">
        <comment>Category, self related table.</comment>
        <id name="categoryId" column="CATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="parentId" column="PARENT_ID" type="long"/>
        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    What the default order of child category in parent ?
                </comment>
            </column>
        </property>
        <many-to-one name="productType" class="org.yes.cart.domain.entity.impl.ProductTypeEntity" foreign-key="FK_CAT_PRODTYPE" lazy="false" cascade="save-update">
            <column name="PRODUCTTYPE_ID" not-null="false">
                <comment>Default product type in category, can be null if category contains different product types
                </comment>
            </column>
        </many-to-one>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="displayName" column="DISPLAYNAME" type="string" length="4000"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <property name="uitemplate" type="string" length="255" not-null="true">
            <column name="UITEMPLATE">
                <comment>point to a products in list template. Can be used parent template if it not set. In case of
                    no templates at all, store product in list template will be used
                </comment>
            </column>
        </property>
        <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
        <property name="availableto" column="AVAILABLETO" type="timestamp"/>


        <bag name="attributes" inverse="true" lazy="false" cascade="all">
            <key column="CATEGORY_ID" not-null="true" on-delete="cascade"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityCategory" />
        </bag>

        <component name="seoInternal" class="org.yes.cart.domain.entity.impl.SeoEntity">
            <property name="uri" type="string" column="URI" length="255" not-null="false"/>
            <property name="title" type="string" column="TITLE" length="255" not-null="false"/>
            <property name="metakeywords" type="string" column="METAKEYWORDS" length="255" not-null="false"/>
            <property name="metadescription" type="string" column="METADESCRIPTION" length="255" not-null="false"/>
        </component>

        <set name="productCategory" inverse="false" lazy="true" cascade="all">
            <key column="CATEGORY_ID" not-null="false"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductCategoryEntity"/>
        </set>

        <property name="navigationByAttributes" length="1" type="java.lang.Boolean" not-null="true">
            <column name="NAV_BY_ATTR" length="1" not-null="false">
                <comment>Filtered navigation by attribute values</comment>
            </column>
        </property>

        <property name="navigationByBrand" length="1" type="java.lang.Boolean" not-null="true">
            <column name="NAV_BY_BRAND" length="1" not-null="false">
                <comment>Filtered navigation by brand</comment>
            </column>
        </property>

        <property name="navigationByPrice" length="1" type="java.lang.Boolean" not-null="true">
            <column name="NAV_BY_PRICE" length="1" not-null="false">
                <comment>Filtered navigation by price range</comment>
            </column>
        </property>

        <property name="navigationByPriceTiers" type="string" length="4000">
            <column name="NAV_BY_PRICE_TIERS" length="4000" not-null="false">
                <comment>Optional price range configuration. Default shop price tiers configuration will used if empty</comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CATEGORY_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.BrandEntity" table="TBRAND">
        <comment>Product brand / manafacturer</comment>
        <id name="brandId" type="long">
            <column name="BRAND_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>


        <bag name="attributes" inverse="true" lazy="true" cascade="all">
            <key not-null="true" on-delete="cascade" column="BRAND_ID"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityBrand" />
        </bag>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="BRAND_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.ProductEntity" table="TPRODUCT">
        <id name="productId" type="long">
            <column name="PRODUCT_ID" not-null="true"/>
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" type="string" length="255" index="PRODUCT_CODE" not-null="true">
            <column name="CODE" length="255" not-null="true">
                <comment>Product or product sku code</comment>
            </column>
        </property>
        <property name="availablefrom" type="timestamp" not-null="false">
            <column name="AVAILABLEFROM">
                <comment>
                    AVAILABLEFROM AVAILABLETO date range when product will be available, for pre and back orders
                </comment>
            </column>
        </property>
        <property name="availableto" column="AVAILABLETO" type="timestamp" not-null="false"/>
        <property name="name" type="string" length="255" not-null="true">
            <column name="NAME" length="255" not-null="true"/>
        </property>
        <property name="displayName" type="string" length="4000">
            <column name="DISPLAYNAME" length="4000"/>
        </property>

        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>

        <property name="tag" type="string" length="255">
            <column name="TAG">
                <comment>
                    Set of space separated product tags
                </comment>
            </column>
        </property>

        <many-to-one name="brand" class="org.yes.cart.domain.entity.impl.BrandEntity" foreign-key="FK_PROD_BRAND">
            <column name="BRAND_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="producttype" class="org.yes.cart.domain.entity.impl.ProductTypeEntity" foreign-key="FK_PROD_PRODTYPE" lazy="false">
            <column name="PRODUCTTYPE_ID" not-null="true"/>
        </many-to-one>

        <property name="availability" type="int">
            <column name="AVAILABILITY" not-null="true" default="1"/>
        </property>

        <set name="attributes" inverse="true" lazy="true" cascade="all">
            <key not-null="true" on-delete="cascade" column="PRODUCT_ID"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityProduct" />
        </set>

        <set name="productCategory" inverse="false" lazy="true" cascade="all">
            <key>
                <column name="PRODUCT_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductCategoryEntity"/>
        </set>

        <bag name="sku" inverse="false" lazy="false" cascade="all-delete-orphan" order-by="RANK">
            <key>
                <column name="PRODUCT_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductSkuEntity"/>
        </bag>


        <set name="ensebleOption" inverse="false" lazy="true" cascade="all">
            <key>
                <column name="PRODUCT_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductEnsebleOptionEntity"/>
        </set>

        <set name="productAssociations" inverse="false" lazy="true" cascade="all">
            <key>
                <column name="PRODUCT_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ProductAssociationEntity"/>
        </set>

        <property name="featured" length="1" type="java.lang.Boolean" not-null="false">
            <column name="FEATURED" length="1" not-null="false">
                <comment>Is product featured?</comment>
            </column>
        </property>

        <component name="seoInternal" class="org.yes.cart.domain.entity.impl.SeoEntity">
            <property name="uri" type="string" column="URI" length="255" not-null="false"/>
            <property name="title" type="string" column="TITLE" length="255" not-null="false"/>
            <property name="metakeywords" type="string" column="METAKEYWORDS" length="255" not-null="false"/>
            <property name="metadescription" type="string" column="METADESCRIPTION" length="255" not-null="false"/>
        </component>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODUCT_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.ProductEnsebleOptionEntity" table="TENSEMBLEOPT">
        <comment>Ensemble options - how many particular sku in ensemble</comment>
        <id name="ensembleOptId" column="ENSEMBLEOPT_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="qty" column="QTY" type="int" not-null="true"/>
        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" foreign-key="FK_ENS_PROD">
            <column name="PRODUCT_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="sku" class="org.yes.cart.domain.entity.impl.ProductSkuEntity" foreign-key="FK_END_SKU">
            <column name="SKU_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="ENSEMBLE_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ProductSkuEntity" table="TSKU">
        <id name="skuId" column="SKU_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" index="SKU_CODE" not-null="true"/>
        <property name="name" type="string" length="255" not-null="true">
            <column name="NAME" length="255" not-null="true"/>
        </property>
        <property name="displayName" column="DISPLAYNAME" type="string" length="4000"/>

        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>

        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" foreign-key="FK_SKU_PROD" lazy="false">
            <column name="PRODUCT_ID" not-null="false"/>
        </many-to-one>

        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    Order of sku for product. Firts is default.
                </comment>
            </column>
        </property>

        <property name="barCode" length="128" type="string">
            <column name="BARCODE" length="128"/>
        </property>


        <bag name="skuPrice" inverse="false" lazy="true" cascade="all-delete-orphan" order-by="qty">
            <key>
                <column name="SKU_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.SkuPriceEntity"/>
        </bag>


        <bag name="attributes" inverse="false" lazy="false" cascade="all-delete-orphan">
            <key>
                <column name="SKU_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityProductSku" />
        </bag>

        <bag name="quantityOnWarehouse" inverse="false" lazy="false" cascade="all-delete-orphan">
            <key>
                <column name="SKU_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.SkuWarehouseEntity" />
        </bag>

        <component name="seoInternal" class="org.yes.cart.domain.entity.impl.SeoEntity">
            <property name="uri" type="string" column="URI" length="255" not-null="false"/>
            <property name="title" type="string" column="TITLE" length="255" not-null="false"/>
            <property name="metakeywords" type="string" column="METAKEYWORDS" length="255" not-null="false"/>
            <property name="metadescription" type="string" column="METADESCRIPTION" length="255" not-null="false"/>
        </component>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SKU_GUID" not-null="true"/>

    </class>
    <!-- ################################### price ####################################### -->

    <class name="org.yes.cart.domain.entity.impl.SkuPriceEntity" table="TSKUPRICE">
        <comment>Prices. Some discriminators like condition can be added</comment>
        <id name="skuPriceId" column="SKUPRICE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="sku" class="org.yes.cart.domain.entity.impl.ProductSkuEntity" foreign-key="FK_SP_SKU">
            <column name="SKU_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_SP_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>

        <property name="currency" type="string" length="3" not-null="true" column="CURRENCY"/>

        <property name="quantity" type="java.math.BigDecimal" not-null="false">
            <column name="QTY" not-null="true">
                <comment>Quantity of SKU. Price tier</comment>
            </column>
        </property>
        <property name="regularPrice" type="java.math.BigDecimal" not-null="true">
            <column name="REGULAR_PRICE" not-null="true">
                <comment>Regular price</comment>
            </column>
        </property>
        <property name="salePrice" type="java.math.BigDecimal" not-null="false">
            <column name="SALE_PRICE" not-null="false">
                <comment>Sale price. Must be less that regular</comment>
            </column>
        </property>
        <property name="minimalPrice" type="java.math.BigDecimal" not-null="false">
            <column name="MINIMAL_PRICE" not-null="false">
                <comment>Minimal price used in name-your-price pricing strategy. Must be less that regular</comment>
            </column>
        </property>
        <property name="salefrom" column="SALE_FROM" type="timestamp" not-null="false"/>
        <property name="saleto" column="SALE_TO" type="timestamp" not-null="false"/>
        <property name="tag" type="string" length="45" not-null="false">
            <column name="TAG">
                <comment>
                    Set of space separated price tags
                </comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique="false" index="SKUPRICE_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.ProductCategoryEntity" table="TPRODUCTCATEGORY">
        <id name="productCategoryId" column="PRODUCTCATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" foreign-key="FK_PC_PRODUCT">
            <column name="PRODUCT_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="category" class="org.yes.cart.domain.entity.impl.CategoryEntity" foreign-key="FK_PC_CAT">
            <column name="CATEGORY_ID" not-null="true"/>
        </many-to-one>
        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    What the default order of particular product in particular category
                </comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODUCTCAT_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.AssociationEntity" table="TASSOCIATION">

        <comment>Cross/up/accesories/who buy also buy sell</comment>
        <id name="associationId" column="ASSOCIATION_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" not-null="true"/>
        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="ASSOCIATION_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.ProductAssociationEntity" table="TPRODUCTASSOCIATION">
        <id name="productassociationId" column="PRODUCTASSOCIATION_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    RANK can have different meaning, depending from association type
                    for example similarity always will be less, that 1000000 (MAX similarity)
                    who buy , counter of who buy the one product also buy other product
                </comment>
            </column>
        </property>
        <many-to-one name="association" class="org.yes.cart.domain.entity.impl.AssociationEntity" foreign-key="FK_PA_ASSOC">
            <column name="ASSOCIATION_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" foreign-key="FK_PA_PRODUCT" lazy="false">
            <column name="PRODUCT_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="productAssociated" class="org.yes.cart.domain.entity.impl.ProductEntity" foreign-key="FK_PA_ASSOCPROD"  lazy="false">
            <column name="ASSOCIATEDPRODUCT_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="PRODUCTASSOC_GUID" not-null="true"/>

    </class>

    <!-- ########################################## warehouse ######################### -->


    <class name="org.yes.cart.domain.entity.impl.WarehouseEntity" table="TWAREHOUSE">
        <id name="warehouseId" column="WAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" not-null="true"/>
        <property name="name" type="string" length="64" not-null="true">
            <column name="NAME" length="64" not-null="true"/>
        </property>
        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>

        <property name="countryCode" type="string" column="COUNTRY_CODE" length="64" not-null="false"/>
        <property name="stateCode" type="string" column="STATE_CODE" length="64" not-null="false"/>
        <property name="city" type="string" column="CITY" length="128" not-null="false"/>
        <property name="postcode" type="string" column="POSTCODE" length="16" not-null="false"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="WAREHOUSE_GUID" not-null="true"/>

        <bag name="warehouseShop" inverse="false" lazy="true" cascade="all">
            <key>
                <column name="WAREHOUSE_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopWarehouseEntity"/>
        </bag>

    </class>

    <!-- ####################################### Shop ################################# -->

    <class name="org.yes.cart.domain.entity.impl.ShopEntity" table="TSHOP">
        <id name="shopId" column="SHOP_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="code" column="CODE" type="string" length="255" index="SHOP_CODE" not-null="true" lazy="false"/>
        <property name="name" type="string" length="64" not-null="true" lazy="false">
            <column name="NAME" length="64" not-null="true"/>
        </property>
        <property name="description" length="4000" type="string">
            <column name="DESCRIPTION" length="4000"/>
        </property>
        <property name="fspointer" length="4000" type="string" lazy="false">
            <column name="FSPOINTER" length="4000" not-null="true">
                <comment>
                    Point to jsps
                </comment>
            </column>
        </property>
        <property name="imageVaultFolder" length="4000" type="string">
            <column name="IMGVAULT" length="4000" not-null="true">
                <comment>
                    Point to image repository
                </comment>
            </column>
        </property>
        <set name="shopUrl" inverse="true" lazy="false" cascade="all">
            <key>
                <column name="SHOP_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopUrlEntity"/>
        </set>
        <bag name="exchangerates" inverse="false" lazy="false" cascade="all">
            <key>
                <column name="SHOP_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopExchangeRateEntity"/>
        </bag>
        <bag name="advertisingPlaces" inverse="false" lazy="false" cascade="all">
            <key>
                <column name="SHOP_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopAdvPlaceEntity"/>
        </bag>
        <bag name="shopDiscountRules" inverse="true" lazy="false" cascade="all">
            <key>
                <column name="SHOP_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopDiscountEntity"/>
        </bag>

        <bag name="attributes" inverse="true" lazy="false" cascade="all">
            <key column="SHOP_ID" not-null="true" foreign-key="FK_ATTR_SHOP"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityShop"/>
        </bag>

        <component name="seoInternal" class="org.yes.cart.domain.entity.impl.SeoEntity">
            <meta attribute="implements">org.yes.cart.domain.entity.Seo</meta>
            <property name="uri" type="string" column="URI" length="255" not-null="false"/>
            <property name="title" type="string" column="TITLE" length="255" not-null="false"/>
            <property name="metakeywords" type="string" column="METAKEYWORDS" length="255" not-null="false"/>
            <property name="metadescription" type="string" column="METADESCRIPTION" length="255" not-null="false"/>
        </component>


        <bag name="shopCategory" inverse="false" lazy="false" cascade="all" order-by="RANK">
            <key>
                <column name="SHOP_ID" not-null="false"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopCategoryEntity"/>
        </bag>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOP_GUID" not-null="true"/>
    </class>



    <class name="org.yes.cart.domain.entity.impl.ShopTopSellerEntity" table="TSHOPTOPSELLER">
        <comment>Hold top seller information</comment>
        <id name="shopTopsellerId" column="SHOPTOPSELLER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="product" class="org.yes.cart.domain.entity.impl.ProductEntity" lazy="false">
            <column name="PRODUCT_ID" not-null="true"/>
        </many-to-one>
        <property name="counter" column="COUNTER" type="java.math.BigDecimal"  not-null="false"/>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPTOPSELLER_GUID" not-null="true"/>

    </class>


   <class name="org.yes.cart.domain.entity.impl.ShopWarehouseEntity" table="TSHOPWAREHOUSE">
        <comment>Relation between shop and warehouses</comment>
        <id name="shopWarehouseId" column="SHOPWAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
       <version name="version" column="VERSION" type="long"/>

       <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="warehouse" class="org.yes.cart.domain.entity.impl.WarehouseEntity">
            <column name="WAREHOUSE_ID" not-null="true"/>
        </many-to-one>
        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                   Warehouse priority usage
                </comment>
            </column>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPWAREHOUSE_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.SkuWarehouseEntity" table="TSKUWAREHOUSE">
        <comment>Real quantity of sku at each warehouse</comment>
        <id name="skuWarehouseId" column="SKUWAREHOUSE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="warehouse" class="org.yes.cart.domain.entity.impl.WarehouseEntity">
            <column name="WAREHOUSE_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="sku" class="org.yes.cart.domain.entity.impl.ProductSkuEntity">
            <column name="SKU_ID" not-null="true"/>
        </many-to-one>

        <property name="quantity" type="java.math.BigDecimal" not-null="true">
            <column name="QUANTITY" not-null="true">
                <comment>Current quantity</comment>
            </column>
        </property>

        <property name="reserved" type="java.math.BigDecimal" not-null="false">
            <column name="RESERVED" not-null="false" default="0">
                <comment>Reserved by payment transaction quantity.</comment>
            </column>
        </property>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SKUWAREHOUSE_GUID" not-null="true"/>
    </class>


    <class name="org.yes.cart.domain.entity.impl.ShopCategoryEntity" table="TSHOPCATEGORY">
        <id name="shopCategoryId" column="SHOPCATEGORY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="rank" type="int" not-null="false">
            <column name="RANK">
                <comment>
                    What the default order of assignmet ?
                </comment>
            </column>
        </property>

        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_SC_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>
        <many-to-one name="category" class="org.yes.cart.domain.entity.impl.CategoryEntity" foreign-key="FK_SC_CAT">
            <column name="CATEGORY_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPCATEGORY_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.ShopDiscountEntity" table="TSHOPDISCOUNT">
        <id name="shopDiscountId" column="SHOPDISCOUNT_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
        <property name="availableto" column="AVAILABLETO" type="timestamp"/>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_SD_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>
        <set name="shopDiscountRules" inverse="false">
            <key column="SHOPDISCOUNT_ID" not-null="true" foreign-key="FK_SDR_SDRULE"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopDiscountRuleEntity"/>
        </set>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPDISCOUNT_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ShopDiscountRuleEntity" table="TSHOPDISCOUNTRULE">
        <id name="shopDiscountRuleId" column="SHOPDISCOUNTRULE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <!--many-to-one name="shopDiscount" class="org.yes.cart.domain.entity.ShopDiscount" foreign-key="FK_SDR_SHOPDISC" update="false" insert="false">
            <column name="SHOPDISCOUNT_ID" not-null="true"/>
        </many-to-one-->
        <property name="rule" column="RULE" type="string" length="4000"/>
        <property name="name" column="NAME" type="string" length="255"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPDISCOUNTRULE_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.ShopUrlEntity" table="TSHOPURL">
        <id name="storeUrlId" column="STOREURL_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="url" column="URL" type="string" length="512" not-null="true" lazy="false"/>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_SHOPURL_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPURL_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ShopExchangeRateEntity" table="TSHOPEXCHANGERATE">
        <id name="shopexchangerateId" type="long" column="SHOPEXCHANGERATE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="fromCurrency" type="string" length="3" not-null="true" column="FROMCURRENCY"/>
        <property name="toCurrency" type="string" length="3" not-null="true" column="TOCURRENCY"/>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_ER_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>
        <property name="rate" type="java.math.BigDecimal" not-null="true" column="RATE"/>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPEXRATE_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ShopAdvPlaceEntity" table="TSHOPADVPLACE">
        <comment>Adv places in particular shop</comment>
        <id name="shopadvplaceId" column="SHOPADVPLACE_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_ADVP_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>
        <set name="shopAdvPlaceRules" inverse="true">
            <key column="SHOPADVPLACE_ID" not-null="true"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.ShopAdvPlaceRuleEntity"/>
        </set>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPADVPLACE_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.ShopAdvPlaceRuleEntity" table="TSHOPADVRULES">
        <comment>Adv rules for show some item in adv place</comment>
        <id name="shopadvrulesId" column="SHOPADVRULES_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="rank" type="int" not-null="false"/>
        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="4000"/>
        <property name="availablefrom" column="AVAILABLEFROM" type="timestamp"/>
        <property name="availableto" column="AVAILABLETO" type="timestamp"/>
        <property name="rule" column="RULE" type="string" length="4000"/>
        <many-to-one name="shopAdvPlace" class="org.yes.cart.domain.entity.impl.ShopAdvPlaceEntity" foreign-key="FK_ADVR_ADVPLACE">
            <column name="SHOPADVPLACE_ID" not-null="true"/>
        </many-to-one>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SHOPADVRULES_GUID" not-null="true"/>

    </class>



    <!-- ################################## Customer ################################# -->

    <class name="org.yes.cart.domain.entity.impl.CustomerEntity" table="TCUSTOMER">
        <id name="customerId" column="CUSTOMER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="email" type="string" column="EMAIL" length="255" unique-key="CUSTOMER_EMAIL" not-null="true"/>
        <property name="firstname" type="string" column="FIRSTNAME" length="128" not-null="true"/>
        <property name="lastname" type="string" column="LASTNAME" length="128" not-null="true"/>
        <property name="middlename" type="string" column="MIDDLENAME" length="128" not-null="false"/>
        <property name="password" length="255" type="java.lang.String" column="PASSWORD" not-null="true"/>

        <property name="tag" type="string" length="255">
            <column name="TAG">
                <comment>
                    Set of space separated customer tags
                </comment>
            </column>
        </property>

        <bag name="orders" inverse="true">
            <key>
                <column name="CUSTOMER_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerOrderEntity"/>
        </bag>



        <bag name="wishList" inverse="false">
            <key>
                <column name="CUSTOMER_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerWishListEntity"/>
        </bag>


        <bag name="attributes" inverse="true" lazy="false" cascade="all">
            <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AttrValueEntityCustomer" />
        </bag>

        <bag name="address" inverse="true" lazy="false" cascade="all" >
            <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.AddressEntity"/>
        </bag>

        <bag name="shops" inverse="true" lazy="true" cascade="all" >
            <key column="CUSTOMER_ID" not-null="true" on-delete="cascade"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerShopEntity"/>
        </bag>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMER_GUID" not-null="true"/>

    </class>




    <class name="org.yes.cart.domain.entity.impl.CustomerShopEntity" table="TCUSTOMERSHOP">
        <id name="customerShopId" column="CUSTOMERSHOP_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="customer" class="org.yes.cart.domain.entity.impl.CustomerEntity" foreign-key="FK_CS_CUSTOMER">
            <column name="CUSTOMER_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_CS_SHOP">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>



        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERSHOP_GUID" not-null="true"/>

    </class>



    <class name="org.yes.cart.domain.entity.impl.CustomerWishListEntity" table="TCUSTOMERWISHLIST">
        <id name="customerwishlistId" column="CUSTOMERWISHLIST_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <many-to-one name="skus" class="org.yes.cart.domain.entity.impl.ProductSkuEntity" foreign-key="FK_WL_SKU">
            <column name="SKU_ID" not-null="true"/>
        </many-to-one>

        <many-to-one name="customer" class="org.yes.cart.domain.entity.impl.CustomerEntity" foreign-key="FK_WL_CUSTOMER">
            <column name="CUSTOMER_ID" not-null="true"/>
        </many-to-one>

        <property name="wlType" type="string" length="1">
            <column name="WL_TYPE" default="'W'" length="1">
                <comment>W-single, A-Available reminder, P-Price reminder, R-In promo reminder</comment>
            </column>
        </property>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERWISHLIST_GUID" not-null="true"/>

    </class>



    <!-- ################################ Order & etc ####################################### -->


    <class name="org.yes.cart.domain.entity.impl.CustomerOrderEntity" table="TCUSTOMERORDER">
        <id name="customerorderId" column="CUSTOMERORDER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="pgLabel" type="string" length="64" not-null="false">
            <column name="PG_LABEL">
                <comment>Payment gateway label</comment>
            </column>
        </property>
        <property name="ordernum" type="string" length="16" not-null="true" index="CUSTOMERORDER_NUM">
            <column name="ORDERNUM">
                <comment>Depends from order num producer.</comment>
            </column>
        </property>
        <property name="cartGuid" column="CART_GUID" type="string" length="36" index="CUSTOMERORDER_CART" not-null="true"/>
        <property name="currency" column="CURRENCY" type="string" length="3" not-null="true"/>
        <property name="locale" column="LOCALE" type="string" length="5" not-null="true"/>
        <property name="orderMessage" type="string" length="4000">
            <column name="MESSAGE">
                <comment>Free text information per each order. Can be whatever</comment>
            </column>
        </property>
        <property name="orderStatus" column="ORDERSTATUS" type="string" length="64" not-null="true"/>
        <many-to-one name="customer" class="org.yes.cart.domain.entity.impl.CustomerEntity" foreign-key="FK_ORDER_CUSTOMER" lazy="false">
            <column name="CUSTOMER_ID" not-null="false"/>
        </many-to-one>
        <many-to-one name="shop" class="org.yes.cart.domain.entity.impl.ShopEntity" foreign-key="FK_ORDER_SHOP" lazy="false">
            <column name="SHOP_ID" not-null="true"/>
        </many-to-one>

        <bag name="orderDetail" inverse="true" cascade="all" lazy="false">
            <key><column name="CUSTOMERORDER_ID" not-null="true"/></key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerOrderDetEntity"/>
        </bag>

        <bag name="delivery" inverse="true" lazy="false"  cascade="all">
            <key on-delete="cascade" column="CUSTOMERORDER_ID" not-null="true"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryEntity"/>
        </bag>

        <property name="billingAddress" type="string" not-null="false" length="4000">
            <column name="BILLING_ADDRESS">
                <comment>Address composed for billing</comment>
            </column>
        </property>

        <property name="shippingAddress" type="string" not-null="false" length="4000">
            <column name="SHIPPING_ADDRESS">
                <comment>Shipping address</comment>
            </column>
        </property>

        <property name="multipleShipmentOption" type="boolean">
            <column name="MULTIPLE_SHIPMENT" default="0">
                <comment>Wait for all skus in case of not all available.
                </comment>
            </column>
        </property>


        <property name="orderTimestamp" column="ORDER_TIMESTAMP" type="timestamp" not-null="true"/>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERORDER_GUID" not-null="true"/>

    </class>


    <class name="org.yes.cart.domain.entity.impl.CustomerOrderDetEntity" table="TCUSTOMERORDERDET">
        <comment>Orders detail</comment>
        <id name="customerOrderDetId" type="long" column="CUSTOMERORDERDET_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="qty" column="QTY" type="java.math.BigDecimal" not-null="false"/>
        <property name="listPrice" column="LIST_PRICE" type="java.math.BigDecimal" not-null="true"/>
        <property name="price" type="java.math.BigDecimal" not-null="false">

            <column name="PRICE" not-null="true">
                <comment>Price per one unit
                </comment>
            </column>
        </property>

        <property name="productSkuCode" column="CODE" type="string" length="255" not-null="true"/>
        <property name="productName" column="PRODUCTNAME" type="string" length="4000" not-null="true"/>
        <many-to-one name="customerOrder" class="org.yes.cart.domain.entity.impl.CustomerOrderEntity" foreign-key="FK_ODET_CUSTORDER">
            <column name="CUSTOMERORDER_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERORDERDET_GUID" not-null="true"/>

    </class>

    <!--  ######################################### deliveries ######################################## -->

    <class name="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryEntity" table="TCUSTOMERORDERDELIVERY">
        <id name="customerOrderDeliveryId" column="CUSTOMERORDERDELIVERY_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="deliveryNum" type="string" length="16" not-null="true">
            <column name="DELIVERYNUM">
                <comment>Order contract in case of splited orders (XXX-1,XXX-2, etc).
                    Delivery contract XXX-2-DDD1,XXX-2-DDD2, XXX-2-DDD3, where XXX order num, DDD delivery num.
                </comment>
            </column>
        </property>
        <property name="refNo" type="string" length="128">
            <column name="REF_NO">
                <comment>External ref number
                </comment>
            </column>
        </property>
        <property name="price" column="PRICE" type="java.math.BigDecimal" not-null="true"/>
        <property name="deliveryStatus" column="DELIVERYSTATUS" type="string" length="64" not-null="true"/>
        <bag name="detail" cascade="all" inverse="true" lazy="false">
            <key column="CUSTOMERORDERDELIVERY_ID" not-null="true" foreign-key="FK_CODD_CDELIVERY"/>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryDetEntity"/>
        </bag>
        <many-to-one name="carrierSla" class="org.yes.cart.domain.entity.impl.CarrierSlaEntity" foreign-key="FK_OD_CSLA" lazy="false">
            <column name="CARRIERSLA_ID" not-null="false"/>
        </many-to-one>
        <many-to-one name="customerOrder" class="org.yes.cart.domain.entity.impl.CustomerOrderEntity" foreign-key="FK_OD_ORD" >
            <column name="CUSTOMERORDER_ID" not-null="true"/>
        </many-to-one>
        <property name="deliveryGroup" type="string" not-null="true">
            <column name="DELIVERY_GROUP" length="16" not-null="true"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERORDERDEL_GUID" not-null="true"/>

    </class>

    <class name="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryDetEntity" table="TCUSTOMERORDERDELIVERYDET">
        <comment>Delivery details</comment>
        <id name="customerOrderDeliveryDetId" column="CUSTOMERORDERDELIVERYDET_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="qty" type="java.math.BigDecimal" not-null="true">
            <column name="QTY" not-null="true">
                <comment>Quantity of SKU in this praticular delivery
                </comment>
            </column>
        </property>
        <property name="price" column="PRICE" type="java.math.BigDecimal" not-null="true"/>
        <property name="listPrice" column="LIST_PRICE" type="java.math.BigDecimal" not-null="true"/>
        <property name="productSkuCode" column="CODE" type="string" length="255" not-null="true"/>
        <property name="productName" column="PRODUCTNAME" type="string" length="4000" not-null="true"/>
        <many-to-one name="delivery" class="org.yes.cart.domain.entity.impl.CustomerOrderDeliveryEntity" foreign-key="FK_CODD_DL">
            <column name="CUSTOMERORDERDELIVERY_ID" not-null="true"/>
        </many-to-one>
        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CUSTOMERORDERDELDET_GUID" not-null="true"/>

    </class>

    <!-- ######################### carriers & shipment SLA ####################### -->
    <class name="org.yes.cart.domain.entity.impl.CarrierEntity" table="TCARRIER">
        <comment>Shipment</comment>
        <id name="carrierId" column="CARRIER_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="255"/>
        <property name="displayName" column="DISPLAYNAME" type="string" length="255"/>
        <property name="displayDescription" column="DISPLAYDESCRIPTION" type="string" length="255"/>

        <property name="worldwide" type="boolean" column="WORLDWIDE" length="1"  not-null="false"/>
        <property name="country"   type="boolean" column="COUNTRY"   length="1"  not-null="false"/>
        <property name="state"     type="boolean" column="STATE"     length="1"  not-null="false"/>
        <property name="local"     type="boolean" column="LOCAL"     length="1"  not-null="false"/>

        <bag name="carrierSla" inverse="true" lazy="false">
            <key>
                <column name="CARRIER_ID" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="org.yes.cart.domain.entity.impl.CarrierSlaEntity"/>
        </bag>


        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CARRIER_GUID" not-null="true"/>
    </class>

    <class name="org.yes.cart.domain.entity.impl.CarrierSlaEntity" table="TCARRIERSLA">
        <comment>Shipment service layer agreement. Days, distances , etc.</comment>
        <id name="carrierslaId" column="CARRIERSLA_ID" type="long">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="name" column="NAME" type="string" length="255" not-null="true"/>
        <property name="description" column="DESCRIPTION" type="string" length="255"/>
        <property name="displayName" column="DISPLAYNAME" type="string" length="255"/>
        <property name="displayDescription" column="DISPLAYDESCRIPTION" type="string" length="255"/>

        <property name="currency" column="CURRENCY" type="string" length="3" not-null="true"/>
        <property name="maxDays" column="MAX_DAYS" type="java.lang.Integer"/>

        <property name="slaType"  column="SLA_TYPE" type="string" length="1" not-null="true"/>
        <property name="price"    column="PRICE"    type="java.math.BigDecimal" not-null="true"/>
        <property name="percent"  column="PER_CENT" type="java.math.BigDecimal" not-null="true"/>
        <property name="script"   column="SCRIPT"   type="string" length="4000"/>


        <property name="priceNotLess"    column="PRICE_NOTLESS"   type="java.math.BigDecimal"/>
        <property name="percentNotLess"  column="PERCENT_NOTLESS" type="java.math.BigDecimal"/>
        <property name="costNotLess"     column="COST_NOTLESS"    type="java.math.BigDecimal"/>

        <many-to-one name="carrier" class="org.yes.cart.domain.entity.impl.CarrierEntity" foreign-key="FK_CSLA_CARR" lazy="false">
            <column name="CARRIER_ID" not-null="true"/>
        </many-to-one>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="CARRIERSLA_GUID" not-null="true"/>

    </class>

    <!--     ########################################### SEO ################################# -->

    <class name="org.yes.cart.domain.entity.impl.SeoImageEntity" table="TSEOIMAGE">
        <comment>Search optimizations on images.</comment>
        <id name="seoImageId" type="long" column="SEOIMAGE_ID">
            <generator class="native">
                <param name="table">HIBERNATE_UNIQUE_KEYS</param>
                <param name="column">value</param>
            </generator>
        </id>
        <version name="version" column="VERSION" type="long"/>

        <property name="imageName" type="string" length="255" not-null="false" index="IMAGE_NAME_IDX">
            <column name="IMAGE_NAME" length="255"/>
        </property>
        <property name="alt" type="string" length="255" not-null="false">
            <column name="ALT" length="255"/>
        </property>
        <property name="title" type="string" length="255" not-null="false">
            <column name="TITLE" length="255"/>
        </property>

        <property name="createdTimestamp" column="CREATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="updatedTimestamp" column="UPDATED_TIMESTAMP" type="timestamp" not-null="false"/>
        <property name="createdBy" column="CREATED_BY" type="string" length="64" not-null="false"/>
        <property name="updatedBy" column="UPDATED_BY" type="string" length="64" not-null="false"/>
        <property name="guid" column="GUID" type="string" length="36" unique-key="SEOIMAGE_GUID" not-null="true"/>

    </class>



    <query name="SHOP.BY.URL">
        <![CDATA[
       select o.shop  from ShopUrlEntity o fetch all properties where o.url = ?1
       ]]>
    </query>

   <query name="SHOP.BY.CODE">
        <![CDATA[
       select o from ShopEntity o fetch all properties  where o.code = ?1
       ]]>
    </query>

    <query name="SHOP.BY.ORDER.GUID">
        <![CDATA[
       select co.shop from CustomerOrderEntity co where co.cartGuid  = ?1
       ]]>
    </query>

    <query name="SHOP.BY.ORDER.NUM">
        <![CDATA[
       select co.shop from CustomerOrderEntity co where co.ordernum  = ?1
       ]]>
    </query>

    <query name="TOPCATEGORIES.BY.SHOPID">
        <![CDATA[
       select c from CategoryEntity c, ShopCategoryEntity sc
       where c.categoryId = sc.category.categoryId and sc.shop.shopId = ?1
       and (c.availablefrom < ?2 OR c.availablefrom IS NULL)
       and (c.availableto > ?2 OR c.availableto IS NULL)
       order by sc.rank
       ]]>
    </query>

    <query name="ALL.TOPCATEGORIES.BY.SHOPID">
        <![CDATA[
       select c from CategoryEntity c, ShopCategoryEntity sc
       where c.categoryId = sc.category.categoryId and sc.shop.shopId = ?1
       order by sc.rank
       ]]>
    </query>

    <query name="ROOTCATEORY">
        <![CDATA[
       select c from CategoryEntity c WHERE c.categoryId = c.parentId 
       ]]>
    </query>

    <query name="CATEGORIES.BY.PARENTID">
        <![CDATA[
       select c from CategoryEntity c where c.parentId = ?1
       and c.categoryId <> c.parentId 
       and (c.availablefrom < ?2 OR c.availablefrom IS NULL)
       and (c.availableto > ?2 OR c.availableto IS NULL)
       order by c.rank 
       ]]>
    </query>

    <query name="CATEGORIES.BY.PRODUCTID">
        <![CDATA[
       select c from CategoryEntity c, ProductCategoryEntity pc
       where c.categoryId = pc.category.categoryId
       and pc.product.productId =?1
       order by c.rank
       ]]>
    </query>

    <query cacheable="true" name="CATEGORIES.BY.PARENTID.WITHOUT.DATE.FILTERING">
        <![CDATA[
       select c from CategoryEntity c where c.parentId = ?1
       and c.categoryId <> c.parentId
       order by c.rank
       ]]>
    </query>

    <query name="ROOTCONTENT.BY.SHOP.ID">
        <![CDATA[
       select c from CategoryEntity c, ShopEntity s WHERE c.guid = s.code AND c.parentId = 0 AND s.shopId = ?1
       ]]>
    </query>

    <query name="SHOPCODE.BY.SHOP.ID">
        <![CDATA[
       select s.code from ShopEntity s WHERE s.shopId = ?1
       ]]>
    </query>

    <query name="CONTENTBODY.BY.CONTENTID">
        <![CDATA[
       select av.val from CategoryEntity c, AttrValueEntityCategory av
       where c.categoryId = av.category.categoryId and c.categoryId = ?1 and av.attribute.code like ?2
       and (c.availablefrom < ?3 OR c.availablefrom IS NULL)
       and (c.availableto > ?3 OR c.availableto IS NULL)
       order by av.attribute.code
       ]]>
    </query>

    <query name="CONTENTBODY.ATTRIBUTES">
        <![CDATA[
       select a from AttributeEntity a where a.code like ?1 order by a.code asc
       ]]>
    </query>

    <query name="PRODUCTS.BY.CATEGORYID">
        <![CDATA[
       select p from ProductEntity p, ProductCategoryEntity pc
            where p.productId = pc.product.productId
            and pc.category.categoryId = ?1
            and (p.availablefrom < ?2 OR p.availablefrom IS NULL)
            and (p.availableto > ?2 OR p.availableto IS NULL)
            order by pc.rank
       ]]>
    </query>

    <query name="NEW.PRODUCTS.IN.CATEGORYID">
        <![CDATA[
       select p from ProductEntity p, ProductCategoryEntity pc
            where p.productId = pc.product.productId
            and pc.category.categoryId = ?1
            and (p.availablefrom < ?2 OR p.availablefrom IS NULL)
            and (p.availableto > ?2 OR p.availableto IS NULL)
            order by p.createdTimestamp desc
       ]]>
    </query>

    <query name="PRODUCTS.QTY.BY.CATEGORYID">
        <![CDATA[
       select count(p) from ProductEntity p, ProductCategoryEntity pc
            where p.productId = pc.product.productId
            and pc.category.categoryId = ?1
            and (p.availablefrom < ?2 OR p.availablefrom IS NULL)
            and (p.availableto > ?2 OR p.availableto IS NULL)
       ]]>
    </query>

    <query name="PRODUCT.IN.CATEGORY">
        <![CDATA[
       select pc from  ProductCategoryEntity pc
            where  pc.category.categoryId = ?1
            and pc.product.productId =?2
       ]]>
    </query>

    <query name="ORDERS.COUNT">
        <![CDATA[
       select count(p) from CustomerOrderEntity p
       ]]>
    </query>


    <query name="ORDERS.BY.CRITERIA">
        <![CDATA[
       select p from CustomerOrderEntity p
       where (p.customer.firstname like ?1 or ?1 is null)
       and (p.customer.lastname like ?2 or ?2 is null)
       and (p.customer.email like ?3 or ?3 is null)
       and (p.orderStatus = ?4 or ?4 is null)
       and (p.orderTimestamp > ?5 or ?5 is null)
       and (p.orderTimestamp < ?6 or ?6 is null)
       and (p.ordernum like ?7 or ?7 is null)
       and (p.customer.customerId = ?8 or ?8 = 0)
       ]]>
    </query>


    <query  name="SKUCODE.FOR.SKUWAREHOUSE.CHANGED.SINCE">
        <![CDATA[
       select sw.sku.code from SkuWarehouseEntity sw
       where  sw.updatedTimestamp >= ?1 or ?1 is null
       ]]>
    </query>

    <query  name="DELIVERIES.WAITING.FOR.INVENTORY.BY.SKU">
        <![CDATA[
       select d from CustomerOrderDeliveryEntity d inner join d.detail dd
       where  d.deliveryStatus = ?1
       and d.customerOrder.orderStatus in ?2
       and dd.productSkuCode in ?3
       order by d.customerOrderDeliveryId
       ]]>
    </query>

    <query  name="DELIVERIES.WAITING.FOR.INVENTORY">
        <![CDATA[
       select d from CustomerOrderDeliveryEntity d inner join d.detail dd
       where  d.deliveryStatus = ?1
       and d.customerOrder.orderStatus in ?2
       order by d.customerOrderDeliveryId
       ]]>
    </query>
    <query name="PRODUCT.ATTRIBUTE.VALUES.BY.CODE">
        <![CDATA[
       select a.val, a.displayVal
       from   ProductEntity p inner join p.attributes a
            where p.productId = ?1 and a.attribute.code = ?2
       ]]>
    </query>

    <query name="PRODUCTSKU.ATTRIBUTE.VALUES.BY.CODE">
        <![CDATA[
       select a.val, a.displayVal
       from   ProductSkuEntity p inner join p.attributes a
            where p.skuId = ?1 and a.attribute.code = ?2
       ]]>
    </query>

    <query name="PRODUCTS.ATTRIBUTE.VALUES.BY.CODE.PRODUCTTYPEID">
        <![CDATA[
       select distinct a.val
       from   ProductEntity p inner join p.attributes a
            where p.producttype.producttypeId = ?1
            and a.attribute.code = ?2
       ]]>
    </query>

    <query name="PRODUCT.TYPE.VIEWGROUP.BY.PROD.TYPE.ID">
          <![CDATA[
       select ptg
       from  ProdTypeAttributeViewGroupEntity ptg
            where ptg.producttype.producttypeId = ?1
       ]]>
    </query>

    <query name="PRODUCT.TYPE.ATTR.BY.PROD.TYPE.ID">
          <![CDATA[
       select pta
       from  ProductTypeAttrEntity pta
            where pta.producttype.producttypeId = ?1
            order by pta.attribute.code
       ]]>
    </query>

    <query name="PRODUCTS.ATTRIBUTE.BY.PROD.TYPE.ID">
          <![CDATA[
       select attr
       from  ProductTypeAttrEntity pta  inner join pta.attribute attr
            where pta.producttype.producttypeId = ?1
            order by attr.code
       ]]>
    </query>

    <query name="PRODUCTS.IMAGE.ATTRIBUTE.BY.GROUP.CODE">
          <![CDATA[
       select attr
       from  AttributeEntity attr
            where attr.attributeGroup.code = ?1 and attr.etype.businesstype = 'Image'
            order by attr.code
       ]]>
    </query>


    <query name="PRODUCT.ATTR.VALUE">
        <![CDATA[
       select pav.val
       from  AttrValueEntityProduct pav
            where  pav.product.productId = ?1
            and pav.attribute.code = ?2
       ]]>
    </query>

    <query name="ALL.PRODUCT.ATTR.VALUE">
        <![CDATA[
       select pav.product.productId, pav.val
       from  AttrValueEntityProduct pav
            where pav.attribute.code = ?1
       ]]>
    </query>

    <query name="PRODUCTS.ATTR.CODE.VALUES.BY.ATTRCODES">
        <![CDATA[
       select a.attribute.code, a.val, a.displayVal from  AttrValueEntityProduct a
       where a.attribute.code in (?1)
            group by a.attribute.code, a.val, a.displayVal
       ]]>
    </query>

    <query name="PRODUCTSKUS.ATTR.CODE.VALUES.BY.ATTRCODES">
        <![CDATA[
       select a.attribute.code, a.val, a.displayVal from AttrValueEntityProductSku a
       where a.attribute.code in (?1)
            group by a.attribute.code, a.val, a.displayVal
       ]]>
    </query>


    <query name="PRODUCTS.RANGE.ATTR.CODE.VALUES.BY.PRODUCTTYPEID">
        <![CDATA[
       select pta
       from  ProductTypeAttrEntity pta
            where pta.producttype.producttypeId = ?1
            and pta.navigationType = 'R'
            and pta.navigation = ?2
            order by pta.rank
       ]]>
    </query>

    <query name="PRODUCTS.ATTR.CODE.VALUES.BY.ASSIGNED.CATEGORIES">
        <![CDATA[
       select distinct b.name, b.name, b.name, 0
       from ProductCategoryEntity pc, ProductEntity p inner join p.brand b
       where p.productId = pc.product.productId
        and pc.category.categoryId in (:list)
        order by b.name
       ]]>
    </query>

    <query name="PRODUCTS.LIST.BY.IDS">
        <![CDATA[
       select p
       from  ProductEntity p
       where p.productId  in (:list)
       ]]>
    </query>

    <query name="ATTRIBUTE.CODES.UNIQUE">
        <![CDATA[
       select distinct a.code from AttributeEntity a
       ]]>
    </query>

    <query name="ATTRIBUTE.CODES.NAVIGATION.UNIQUE">
        <![CDATA[
       select distinct pt.attribute.code from ProductTypeAttrEntity pt where pt.navigation = ?1
       ]]>
    </query>

    <query name="ATTRIBUTE.CODES.AND.RANK.SINGLE.NAVIGATION.UNIQUE.BY.PRODUCTTYPE.ID">
        <![CDATA[
       select distinct pt.attribute.code, pt.rank from ProductTypeAttrEntity pt
       where pt.producttype.producttypeId = ?1
         and pt.navigation = ?2
         and pt.navigationType = 'S'
       ]]>
    </query>



    <query name="ATTRIBUTE.BY.CODE">
        <![CDATA[
       select a from AttributeEntity a where a.code = ?1
       ]]>
    </query>

    <query name="ATTRIBUTES.BY.GROUPCODE">
        <![CDATA[
       select a from AttributeEntity a where a.attributeGroup.code = ?1 order by a.code
       ]]>
    </query>

    <query name="ATTRIBUTES.WITH.MULTIPLE.VALUES.BY.GROUPCODE">
        <![CDATA[
       select a from AttributeEntity a where a.allowduplicate = true and a.attributeGroup.code = ?1
       ]]>
    </query>

    <query name="ATTRIBUTES.BY.GROUPCODE.NOT.IN.LIST">
        <![CDATA[
       select a from AttributeEntity a where a.attributeGroup.code = ?1 and a.code not in (:list)
       ]]>
    </query>


    <query name="ATTRIBUTE.CODE.NAMES">
        <![CDATA[
       select distinct a.code, a.name, a.displayName
       from AttributeEntity a
       where a.code in (?1)
       ]]>
    </query>

    <query name="ATTRIBUTE.CODE.NAMES.ALL">
        <![CDATA[
       select distinct a.code, a.name, a.displayName
       from AttributeEntity a
       ]]>
    </query>

    <query name="PRODUCT.ASSOCIATIONS">
        <![CDATA[
       select a
       from ProductAssociationEntity a
       where a.product.productId = ?1
       order by a.rank
       ]]>
    </query>

    <query name="PRODUCT.ASSOCIATIONS.BY.TYPE">
        <![CDATA[
       select a
       from ProductAssociationEntity a
       where a.product.productId = ?1
        and a.association.code = ?2
       order by a.rank
       ]]>
    </query>

    <query name="PRODUCT.ASSOCIATIONS.IDS.BY.TYPE">
        <![CDATA[
       select a.productAssociated.productId
       from ProductAssociationEntity a
       where a.product.productId = ?1
        and a.association.code = ?2
       order by a.rank
       ]]>
    </query>

    <query name="PRODUCT.BY.CODE">
        <![CDATA[
       select a
       from ProductEntity a
       where a.code = ?1
       ]]>
    </query>


    <query name="PRODUCT.SKU.BY.CODE">
        <![CDATA[
       select a
       from ProductSkuEntity a
       where a.code = ?1
       ]]>
    </query>

    <query name="PRODUCT.BY.SKU.CODE">
        <![CDATA[
       select a.product
       from ProductSkuEntity a
       where a.code = ?1
       ]]>
    </query>

    <query name="PRODUCT.FEATURED">
        <![CDATA[
       select a
       from ProductEntity a, ProductCategoryEntity pc
       where a.featured = ?2
       and (a.availablefrom < ?1 OR a.availablefrom IS NULL)
       and (a.availableto > ?1 OR a.availableto IS NULL)
       and a.productId = pc.product.productId
       and pc.category.categoryId in (:list)
       ]]>
    </query>

    <query name="CATEGORY.BY.SEO.URI">
        <![CDATA[
                  select c from CategoryEntity c  where c.seoInternal.uri = ?1
       ]]>
    </query>

    <query name="CATEGORY.ID.BY.SEO.URI">
        <![CDATA[
                  select c.categoryId from CategoryEntity c  where c.seoInternal.uri = ?1
       ]]>
    </query>

    <query name="TEMPLATE.BY.CATEGORY.ID">
        <![CDATA[
                  select c.uitemplate from CategoryEntity c  where c.categoryId = ?1
       ]]>
    </query>

    <query name="SEO.URI.BY.CATEGORY.ID">
        <![CDATA[
                  select c.seoInternal.uri from CategoryEntity c  where c.categoryId = ?1
       ]]>
    </query>

    <query name="CATEGORY.PRODUCT.COUNT">
        <![CDATA[
                  select count(pc.productCategoryId) from ProductCategoryEntity pc  where pc.category.categoryId = ?1
       ]]>
    </query>

    <query name="CATEGORY.SUBCATEGORY.COUNT">
        <![CDATA[
                  select count(c.categoryId) from CategoryEntity c  where c.parentId = ?1
       ]]>
    </query>


    <query name="PRODUCT.BY.SEO.URI">
        <![CDATA[
                 select p from ProductEntity p   where p.seoInternal.uri = ?1
        ]]>
    </query>

    <query name="PRODUCT.ID.BY.SEO.URI">
        <![CDATA[
                 select p.productId from ProductEntity p   where p.seoInternal.uri = ?1
        ]]>
    </query>

    <query name="SEO.URI.BY.PRODUCT.ID">
        <![CDATA[
                 select p.seoInternal.uri from ProductEntity p   where p.productId = ?1
        ]]>
    </query>


    <query name="SKU.BY.SEO.URI">
        <![CDATA[
                 select ps from ProductSkuEntity ps   where ps.seoInternal.uri = ?1
        ]]>
    </query>

    <query name="SKU.ID.BY.SEO.URI">
        <![CDATA[
                 select ps.skuId from ProductSkuEntity ps   where ps.seoInternal.uri = ?1
        ]]>
    </query>

    <query name="SEO.URI.BY.SKU.ID">
        <![CDATA[
                 select ps.seoInternal.uri from ProductSkuEntity ps   where ps.skuId = ?1
        ]]>
    </query>


    <query name="BRAND.BY.NAME">
        <![CDATA[
                 select b from BrandEntity b  where b.name =?1
        ]]>
    </query>

    <query name="SKU.QTY.BY.PRODUCT">
        <![CDATA[
                 select sum(s.quantity) from SkuWarehouseEntity s  where s.sku.product = ?1
        ]]>
    </query>

    <query name="SKU.QTY.BY.PRODUCT.SHOP">
        <![CDATA[
                 select sum(s.quantity) from SkuWarehouseEntity s, ShopWarehouseEntity sw
                 where s.warehouse = sw.warehouse
                 and   s.sku.product = ?1
                 and   sw.shop = ?2
        ]]>
    </query>

    <query name="ASSIGNED.ROLES.BY.USER.EMAIL">
        <![CDATA[
            select r from RoleEntity r, ManagerRoleEntity mr
             where r.code = mr.code
             and mr.email = ?1
             order by r.code
        ]]>
    </query>

    <query name="AVAILABLE.ROLES.BY.USER.EMAIL">
        <![CDATA[
            select r from RoleEntity r
             where r.code not in (
                select mr.code from ManagerRoleEntity mr where mr.email = ?1
                )
             order by r.code
        ]]>
    </query>

    <query name="GET.MAX.RANK">
        <![CDATA[
            select max(pc.rank) from ProductCategoryEntity pc
             where pc.category.categoryId = ?1
        ]]>
    </query>

    <query name="ASSIGNED.WAREHOUSES.TO.SHOP">
        <![CDATA[
            select w from WarehouseEntity w, ShopWarehouseEntity sw
             where w.warehouseId = sw.warehouse.warehouseId
             and sw.shop.id = ?1
             order by sw.rank
        ]]>
    </query>

    <query name="WAREHOUSE.UPDATE.RANK">
        <![CDATA[
                update  ShopWarehouseEntity w set w.rank = ?2 where w.shopWarehouseId = ?1
         ]]>
    </query>

    <query name="ASSIGNED.SHOPWAREHOUSE">
        <![CDATA[
            select sw from ShopWarehouseEntity sw
             where sw.warehouse.warehouseId = ?1
             and sw.shop.id = ?2
        ]]>
    </query>

    <query name="SHOP.CATEGORY">
        <![CDATA[
            select sc from ShopCategoryEntity sc
             where sc.category.categoryId = ?1
             and sc.shop.id = ?2
        ]]>
    </query>

    <query name="SKUS.ON.WAREHOUSE">
        <![CDATA[
            select sw from SkuWarehouseEntity sw
            where sw.sku.product.productId = ?1
             and sw.warehouse.warehouseId = ?2
             order by sw.warehouse.warehouseId, sw.sku.code
        ]]>
    </query>

    <query name="SKUS.ON.WAREHOUSE.BY.SKUCODE">
        <![CDATA[
            select sw from SkuWarehouseEntity sw
            where sw.sku.code = ?1
             and sw.warehouse.warehouseId = ?2
             order by sw.warehouse.warehouseId, sw.sku.code
        ]]>
    </query>

    <query name="SKU.QTY.ON.WAREHOUSES">
        <![CDATA[
            select sum(sw.quantity ), sum(sw.reserved)
            from SkuWarehouseEntity sw
            where sw.warehouse.warehouseId IN (?2)
            and sw.sku.code = ?1
        ]]>
    </query>

    <query name="PRODUCT.CODE.BY.IMAGE.NAME">
        <![CDATA[
            select a.product.code from AttrValueEntityProduct a
            where a.val = ?1
        ]]>
    </query>

    <query name="SKU.CODE.BY.IMAGE.NAME">
        <![CDATA[
            select a.productSku.code from AttrValueEntityProductSku a
            where a.val = ?1
        ]]>
    </query>

    <query name="ADDRESSES.BY.CUSTOMER">
        <![CDATA[
            select a from AddressEntity a
                where a.customer.customerId = ?1
        ]]>
    </query>

    <query name="ADDRESSES.BY.CUSTOMER.TYPE">
        <![CDATA[
            select a from AddressEntity a
                where a.customer.customerId = ?1
                and a.addressType = ?2
        ]]>
    </query>

    <query name="ADDRESSES.RESET.DEFAULT">
        <![CDATA[
            update AddressEntity a set a.defaultAddress = ?3
                where a.customer.customerId = ?1
                and a.addressType = ?2
        ]]>
    </query>



    <query name="WISHLIST.BY.CUSTOMER">
        <![CDATA[
            select a from CustomerWishListEntity a
                where a.customer.customerId = ?1
        ]]>
    </query>

    <query name="CARRIER.SLA.BY.CARRIER">
        <![CDATA[
            select a from CarrierSlaEntity a
                where a.carrier.carrierId = ?1
        ]]>
    </query>


    <query name="TOP.SELLER.SHOP.CLEAN">
        <![CDATA[
            delete from ShopTopSellerEntity  st   where st.shop    = ?1
        ]]>
    </query>

    <query name="SKUPRICE.BY.CODE.AND.CURRENCY.AND.SHOP">
        <![CDATA[
            select sp, s.code
            from SkuPriceEntity sp join sp.sku as s
            where s.code = ?1 and sp.currency = ?2 and sp.shop.shopId = ?3
        ]]>
    </query>

    <query name="SKUPRICE.BY.PRODUCT.AND.CURRENCY.AND.SHOP">
        <![CDATA[
            select sp, s.code
            from SkuPriceEntity sp join sp.sku as s
            where s.product.productId = ?1 and sp.currency = ?2 and sp.shop.shopId = ?3
        ]]>
    </query>

    <query name="SKUPRICE.BY.PRODUCT">
        <![CDATA[
            select sp, s.code
            from SkuPriceEntity sp join sp.sku as s
            where s.product.productId = ?1
        ]]>
    </query>

    <query name="SKUWAREHOUSE.BY.PRODUCT">
        <![CDATA[
            select sw, s.code
            from SkuWarehouseEntity sw join sw.sku as s
            where s.product.productId = ?1
        ]]>
    </query>

    <query name="REMOVE.ALL.SKU.PRICES">
        <![CDATA[
            delete from SkuPriceEntity  sp   where sp.sku  = ?1
        ]]>
    </query>

    <query name="REMOVE.ALL.SKU.INVENTORY">
        <![CDATA[
            delete from SkuWarehouseEntity  sw   where sw.sku  = ?1
        ]]>
    </query>

   <query name="TOP.SELLER.SHOP.CALCULATE">
        <![CDATA[
            select cod.productSkuCode, sum(cod.qty) from CustomerOrderDetEntity  cod
            where cod.customerOrder.shop = ?1
            and cod.customerOrder.orderTimestamp >= ?2
            group by cod.productSkuCode
        ]]>
    </query>




</hibernate-mapping>