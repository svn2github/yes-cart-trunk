<!--
  ~ Copyright 2009 Igor Azarnyi, Denys Pavlov
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<html xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
<body>
<wicket:panel>



    <div class="grid-100 mobile-grid-100 grid-parent">

        <div class="grid-100 mobile-grid-100">
            <a wicket:id="defaultImageRef" class="example-image-link" rel="lightbox">
                <img wicket:id="defaultImage" id="defaultImage" align="center" />
            </a>
        </div>

        <div class="grid-100 mobile-grid-100 grid-parent hide-on-mobile" style="margin-top: 5px;">
            <div class="grid-20 mobile-grid-20" wicket:id="altImageList">
                <a wicket:id="altImageRef"  class="example-image-link" rel="lightbox-alternatives">
                    <img    onmouseout="onMouseOutAlternativeImage()"
                            onmouseover="onMouseOverAlternativeImage(this)"
                            wicket:id="altImage" align="center" class="example-image" />
                </a>
            </div>
        </div>

    </div>

    <script>

        var defaultImageUrl;
        var defaultImageWidth;
        var defaultImageHeight;

        defaultImageUrl = document.getElementById("defaultImage").src;
        var wRe = /(w=)(\d{1,10})/;
        wRe.exec(defaultImageUrl)
        defaultImageWidth = wRe.exec(defaultImageUrl)[2];
        var hRe = /(h=)(\d{1,10})/;
        hRe.exec(defaultImageUrl)
        defaultImageHeight = wRe.exec(defaultImageUrl)[2];

        function onMouseOutAlternativeImage() {

            document.getElementById("defaultImage").src = defaultImageUrl;

        }

        function onMouseOverAlternativeImage(altImage) {

            var src = altImage.src;

            src = src.substring(0, src.indexOf('?')) + "?w="+defaultImageWidth+"&h="+defaultImageHeight;

            document.getElementById("defaultImage").src = src;

        }

    </script>

</wicket:panel>
</body>
</html>