<!--
  ~ Copyright 2009 Igor Azarnyi, Denys Pavlov
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<html xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
<body>
<wicket:panel>

    <div class="product-detail-img-holder">
        <div class="row main">
            <div class="col-xs-12">
                <div class="thumbnail">
                    <a wicket:id="defaultImageRef" class="example-image-link" rel="lightbox">
                        <img wicket:id="defaultImage" id="defaultImage" align="center" />
                    </a>
                </div>
            </div>
        </div>
        <div class="row gallery">
            <div wicket:id="altImageList">
                <div class="col-xs-3 col-sm-4 col-md-3">
                    <a wicket:id="altImageRef" class="thumbnail" rel="lightbox-alternatives">
                        <img wicket:id="altImage" class="jsAltImage" />
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function() {

            var _defaultImageUrl = $('#defaultImage').attr('src');
            var _defaultImageWidth = /(w=)(\d{1,10})/.exec(_defaultImageUrl)[2];
            var _defaultImageHeight = /(h=)(\d{1,10})/.exec(_defaultImageUrl)[2];

            $('.jsAltImage').each(function() {

                var _altImage = $(this);

                _altImage.mouseenter(function() {
                    var _altImageUrl = _altImage.attr('src');
                    _altImageUrl = _altImageUrl.substring(0, _altImageUrl.indexOf('?')) + "?w="+_defaultImageWidth+"&h="+_defaultImageHeight;
                    $('#defaultImage').attr('src', _altImageUrl);
                }).mouseleave(function() {
                    $('#defaultImage').attr('src', _defaultImageUrl);
                });


            })

        });
    </script>

</wicket:panel>
</body>
</html>